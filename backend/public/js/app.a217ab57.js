(function(e){function t(t){for(var a,i,o=t[0],c=t[1],u=t[2],l=0,m=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},r={app:0},n=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0bf2":function(e,t,s){"use strict";var a=s("7ade"),r=s.n(a);r.a},1:function(e,t){},1190:function(e,t,s){"use strict";var a=s("11dd"),r=s.n(a);r.a},"11dd":function(e,t,s){},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="4678"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("header-cmp"),s("router-view")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"header-cmp"},[e._m(0),s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"logo"},[s("h1",[e._v("Jello")])])]),s("div",{staticClass:"user-settings"},[e._m(1),e._m(2),s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"User Settings"},on:{click:e.doLogout}},[s("i",{staticClass:"fa fa-sign-out-alt"})])])],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"boards-menu"},[s("button",{staticClass:"boards-btn btn"},[s("i",{staticClass:"fab fa-trello boards-btn-icon"}),e._v("Boards ")]),s("div",{staticClass:"board-search"},[s("input",{staticClass:"board-search-input btn",attrs:{type:"search","aria-label":"Board Search"}}),s("i",{staticClass:"fas fa-search search-icon",attrs:{"aria-hidden":"true"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"Notifications"}},[s("i",{staticClass:"fas fa-bell",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"User Settings"}},[s("i",{staticClass:"fas fa-user-circle",attrs:{"aria-hidden":"true"}})])}],c=(s("96cf"),s("1da1")),u={methods:{doLogout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"logout"});case 2:e.$router.push({path:"/"});case 3:case"end":return t.stop()}}),t)})))()}}},d=u,l=s("2877"),m=Object(l["a"])(d,i,o,!1,null,null,null),f=m.exports,h={components:{headerCmp:f}},p=h,v=Object(l["a"])(p,r,n,!1,null,null,null),b=v.exports,g=s("9483");Object(g["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var k,_=s("8c4f"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("router-link",{attrs:{to:"/signup"}},[e._v("Sign Up")]),e._v("| "),s("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1)},w=[],y={name:"Home",data:function(){return{boards:[]}},created:function(){this.$store.getters.loggedinUser&&this.$router.push({path:"/userPage"})}},C=y,x=Object(l["a"])(C,T,w,!1,null,null,null),j=x.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup"},[s("h2",[e._v(e._s(e.msg))]),e.loggedinUser?s("div",[s("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" "),s("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.username,expression:"userToEdit.username"}],attrs:{type:"text"},domProps:{value:e.userToEdit.username},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"username",t.target.value)}}})]),s("button",{on:{click:e.doLogout}},[e._v("Logout")])])]):s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.doSignup(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.signupCred.email},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"email",t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}}),s("br"),s("button",[e._v("Signup")])])]),s("hr"),s("button",{on:{click:e.getAllUsers}},[e._v("Get All Users")]),s("ul",e._l(e.users,(function(t){return s("li",{key:t._id},[s("pre",[e._v(e._s(t))]),s("button",{on:{click:function(s){return e.removeUser(t._id)}}},[e._v("x")])])})),0)])},S=[],I=s("5530"),L={name:"signup",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.signupCred,s.email&&s.password&&s.username){t.next=3;break}return t.abrupt("return",e.msg="Please fill up the form");case 3:return t.next=5,e.$store.dispatch({type:"signup",userCred:s});case 5:e.$router.push({path:"/userPage"});case 6:case"end":return t.stop()}}),t)})))()},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})}},watch:{loggedinUser:function(){this.userToEdit=Object(I["a"])({},this.loggedinUser)}}},$=L,M=Object(l["a"])($,O,S,!1,null,null,null),D=M.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"signup"},[s("h2",[e._v(e._s(e.msg))]),e.loggedinUser?s("div",[s("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" "),s("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.username,expression:"userToEdit.username"}],attrs:{type:"text"},domProps:{value:e.userToEdit.username},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"username",t.target.value)}}})]),s("router-link",{attrs:{to:"/userPage"}},[s("button",[e._v("User Page")])]),s("button",{on:{click:e.doLogout}},[e._v("Logout")])],1)]):s("div",[s("form",{on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.email,expression:"loginCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.loginCred.email},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"email",t.target.value)}}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),s("br"),s("button",[e._v("Login")])])]),s("hr"),s("button",{on:{click:e.getAllUsers}},[e._v("Get All Users")]),s("ul",e._l(e.users,(function(t){return s("li",{key:t._id},[s("pre",[e._v(e._s(t))]),s("button",{on:{click:function(s){return e.removeUser(t._id)}}},[e._v("x")])])})),0)])},E=[],N={name:"test",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogin:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.loginCred,s.email&&s.password){t.next=3;break}return t.abrupt("return",e.msg="Please enter user/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:s});case 5:e.loginCred={},e.$router.push({path:"/userPage"});case 7:case"end":return t.stop()}}),t)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})}},watch:{loggedinUser:function(){this.userToEdit=Object(I["a"])({},this.loggedinUser)}}},A=N,B=Object(l["a"])(A,U,E,!1,null,null,null),R=B.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-page"},[s("h1",[e._v("User Page")]),e._l(e.user.boards,(function(t){return s("div",{key:t._id},[s("h3",[e._v("board id:"+e._s(t._id))]),s("h3",[e._v("name:"+e._s(t.name))]),s("h3",[e._v("color:"+e._s(t.background))]),s("button",{on:{click:e.addNewBoard}},[e._v("Add new board")])])})),s("div",{staticClass:"cards-container"},e._l(e.boards,(function(t){return s("board-card",{key:t._id,class:"board-card "+t.title,attrs:{board:t,"data-image":"https://images.unsplash.com/photo-1479660656269-197ebb83b540?dpr=2&auto=compress,format&fit=crop&w=1199&h=798&q=80&cs=tinysrgb&crop="}},[s("h1",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.title))]),s("p",{attrs:{slot:"content"},slot:"content"},[e._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.")])])})),1)],2)},P=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"add-members-container"},[s("form",{staticClass:"search-form",on:{submit:function(t){return t.preventDefault(),e.addMember(e.currUserToAdd)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userFilter.txt,expression:"userFilter.txt"}],staticClass:"search-input",attrs:{type:"search",placeholder:"Name"},domProps:{value:e.userFilter.txt},on:{input:[function(t){t.target.composing||e.$set(e.userFilter,"txt",t.target.value)},e.filter]}}),s("select",{directives:[{name:"model",rawName:"v-model",value:e.currUserToAdd,expression:"currUserToAdd"}],staticClass:"select-user",attrs:{id:"users"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currUserToAdd=t.target.multiple?s:s[0]}}},e._l(e.users,(function(t){return s("option",{key:t._id,domProps:{value:t}},[e._v(e._s(t.name))])})),0),s("button",{staticClass:"search-button",attrs:{type:"submit"}},[e._v(" bcvbcbc "),s("svg",{staticClass:"submit-button"},[s("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#search"}})])]),e._m(0)]),s("symbol",{attrs:{id:"search",viewBox:"0 0 32 32"}},[s("path",{attrs:{d:"M 19.5 3 C 14.26514 3 10 7.2651394 10 12.5 C 10 14.749977 10.810825 16.807458 12.125 18.4375 L 3.28125 27.28125 L 4.71875 28.71875 L 13.5625 19.875 C 15.192542 21.189175 17.250023 22 19.5 22 C 24.73486 22 29 17.73486 29 12.5 C 29 7.2651394 24.73486 3 19.5 3 z M 19.5 5 C 23.65398 5 27 8.3460198 27 12.5 C 27 16.65398 23.65398 20 19.5 20 C 15.34602 20 12 16.65398 12 12.5 C 12 8.3460198 15.34602 5 19.5 5 z"}})]),s("div")])},z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-option"},[s("div")])}],Y=(s("7db0"),s("b0c0"),{props:{users:{type:Array},currBoardUsers:{type:Array}},data:function(){return{userFilter:{txt:""},currUserToAdd:{}}},methods:{filter:function(){this.$emit("filter",this.userFilter)},addMember:function(e){var t={_id:e._id,name:e.name,email:e.email},s=JSON.parse(JSON.stringify(this.currBoardUsers)),a=s.find((function(e){return e._id===t._id}));a||(s.push(t),this.$emit("updateBoardUsers",s))}}}),X=Y,q=Object(l["a"])(X,F,z,!1,null,null,null),W=q.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"card",staticClass:"card-wrap",on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[s("router-link",{attrs:{to:"/"+e.board._id}},[s("div",{staticClass:"card",style:e.cardStyle},[s("div",{staticClass:"card-bg",style:[e.cardBgTransform,e.cardBgImage]}),s("div",{staticClass:"card-info"},[e._t("header"),e._t("content")],2)])])],1)},K=[],V=(s("99af"),{mounted:function(){this.width=this.$refs.card.offsetWidth,this.height=this.$refs.card.offsetHeight},props:["dataImage","board"],data:function(){return{width:0,height:0,mouseX:0,mouseY:0,mouseLeaveDelay:null}},computed:{mousePX:function(){return this.mouseX/this.width},mousePY:function(){return this.mouseY/this.height},cardStyle:function(){var e=30*this.mousePX,t=-30*this.mousePY;return{transform:"rotateY(".concat(e,"deg) rotateX(").concat(t,"deg)")}},cardBgTransform:function(){var e=-40*this.mousePX,t=-40*this.mousePY;return{transform:"translateX(".concat(e,"px) translateY(").concat(t,"px)")}},cardBgImage:function(){return{backgroundImage:"url(".concat(this.dataImage,")")}}},methods:{handleMouseMove:function(e){this.mouseX=e.pageX-this.$refs.card.offsetLeft-this.width/2,this.mouseY=e.pageY-this.$refs.card.offsetTop-this.height/2},handleMouseEnter:function(){clearTimeout(this.mouseLeaveDelay)},handleMouseLeave:function(){var e=this;this.mouseLeaveDelay=setTimeout((function(){e.mouseX=0,e.mouseY=0}),1e3)}}}),H=V,Q=Object(l["a"])(H,G,K,!1,null,null,null),Z=Q.exports,ee={name:"user-page",data:function(){return{user:this.loggedinUser,boards:[],prefs:{title:"test ron",style:{background:"#FFFFF"},public:!0}}},created:function(){console.log(this.boards),this.user=this.$store.getters.loggedinUser,console.log(this.loggedinUser),this.getBoardsFromStore()},methods:{addMembers:function(e){e.isAddMembers=!e.isAddMembers},getBoardsFromStore:function(){var e=this;this.$store.dispatch({type:"getBoards",userId:this.$store.getters.loggedinUser._id}).then((function(t){return e.boards=t}))},addNewBoard:function(){this.$store.dispatch({type:"addBoard",user:this.$store.getters.loggedinUser,prefs:this.prefs}),this.getBoardsFromStore()}},components:{addMembers:W,boardCard:Z}},te=ee,se=(s("c79f"),Object(l["a"])(te,J,P,!1,null,null,null)),ae=se.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.boardData?s("main",{staticClass:"board",style:e.style},[s("nav-board",{attrs:{boardData:e.boardData},on:{changeTitle:e.changeTitle}}),s("div",{staticClass:"lists-canvas"},[s("draggable",e._b({ref:"taskListsLection",staticClass:"lists-container",attrs:{handle:".title",tag:"section",draggable:".unit-task-list-container","ghost-class":"ghost"},on:{end:e.move},model:{value:e.boardData.taskLists,callback:function(t){e.$set(e.boardData,"taskLists",t)},expression:"boardData.taskLists"}},"draggable",e.dragOptions,!1),[e._l(e.boardData.taskLists,(function(e){return s("div",{key:e.id,staticClass:"unit-task-list-container"},[s("task-list",{attrs:{"task-list-data":e}})],1)})),s("button",{staticClass:"add-list-btn btn",on:{click:e.createList}},[e._v("Add a list")])],2)],1),s("router-view")],1):e._e()},ne=[],ie=(s("caad"),s("2532"),s("310e")),oe=s.n(ie),ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:e.taskListData.id,staticClass:"task-list"},[s("div",{staticClass:"title"},[e.editTitleMode?s("input",{directives:[{name:"model",rawName:"v-model",value:e.copyTitle,expression:"copyTitle"}],ref:"editTitle",staticClass:"edit-title-list",attrs:{placeholder:"Title",type:"text"},domProps:{value:e.copyTitle},on:{keydown:e.onKeyEditTitle,blur:e.blurEditTitle,input:function(t){t.target.composing||(e.copyTitle=t.target.value)}}}):s("h2",{on:{click:e.startEditTitle}},[e._v(e._s(e.taskListData.title))]),s("button",{on:{click:function(t){e.barIsOpen=!0}}},[s("i",{staticClass:"fa fa-ellipsis-h"})]),e.barIsOpen?[s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.barIsOpen=!1}}}),s("div",{staticClass:"bar-action-list"},[s("button",{on:{click:e.removeList}},[e._v("Delete List")])])]:e._e()],2),s("div",{staticClass:"list-items"},[s("draggable",e._b({attrs:{draggable:".task-preview-container"},on:{end:e.endMove},model:{value:e.tasks,callback:function(t){e.tasks=t},expression:"tasks"}},"draggable",e.dragOptions,!1),[s("transition-group",{attrs:{type:"transition",tag:"div","data-id":e.taskListData.id,name:e.taskListData.id}},e._l(e.tasks,(function(e){return s("task-preview",{key:e.id,attrs:{task:e}})})),1)],1)],1),e.addTaskMode?s("div",{staticClass:"add-task-aria"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newTask.title,expression:"newTask.title"}],ref:"inputTxtAddTask",attrs:{type:"text"},domProps:{value:e.newTask.title},on:{blur:e.closeAddTaskMode,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createTask(t)},input:function(t){t.target.composing||e.$set(e.newTask,"title",t.target.value)}}}),s("button",{staticClass:"create",on:{click:e.createTask}},[e._v("Add")])]):s("button",{staticClass:"add-card-btn btn",on:{click:e.startAddTaskMode}},[e._v("Add a card")])])},ue=[],de=s("3d20"),le=s.n(de),me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"task-preview-container"},[s("router-link",{attrs:{to:"/task/"+e.task.id}},[s("section",{staticClass:"task-preview"},[e.coverUrl?s("img",{attrs:{src:e.coverUrl,alt:"task.title"}}):e._e(),s("div",{staticClass:"details"},[e.labels.length?s("div",{staticClass:"label-container"},e._l(e.labels,(function(e){return s("span",{key:e,staticClass:"label",style:{"background-color":e}})})),0):e._e(),s("h4",[e._v(e._s(e.task.title))]),s("div",{staticClass:"mini-details"},[s("div",{staticClass:"oders"},[e.desc?s("i",{staticClass:"fa fa-align-left"}):e._e(),e.dueDate?s("span",[e._v(e._s(e.dueDate))]):e._e(),e.checks?s("span",[s("i",{staticClass:"far fa-check-square"}),e._v(" "+e._s(e.finishChecks)+"/"+e._s(e.checks)+" ")]):e._e(),e.attachment?s("span",[s("i",{staticClass:"fa fa-image"}),e._v(" "+e._s(e.attachment)+" ")]):e._e(),e.msgsCount?s("span",[s("i",{staticClass:"far fa-comment-alt"}),e._v(" "+e._s(e.msgsCount)+" ")]):e._e()]),e.users.length?s("span",{staticClass:"users"},e._l(e.users,(function(e){return s("avatar-user",{key:e.id,attrs:{user:e}})})),1):e._e()])])])])],1)},fe=[],he=(s("4de4"),s("d81d"),s("13d5"),s("ac1f"),s("1276"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"avatar-user"},[e.user.avatar&&e.user.avatar.includes(".com")?s("img",{attrs:{src:e.user.avatar}}):s("span",{staticClass:"txt"},[e._v(e._s(e._f("short-name")(e.user.name)))])])}),pe=[],ve={props:{user:Object}},be=ve,ge=(s("5b04"),Object(l["a"])(be,he,pe,!1,null,null,null)),ke=ge.exports,_e=s("c1df"),Te=s.n(_e),we={props:{task:Object},computed:{checks:function(){return this.task.checklists.reduce((function(e,t){return e+t.checkItems.length}),0)},finishChecks:function(){return this.task.checklists.reduce((function(e,t){return e+t.checkItems.filter((function(e){return e.isDone})).length}),0)},labels:function(){return this.task.labels.map((function(e){return e.color}))},users:function(){return this.task.members},desc:function(){return!!this.task.desc},msgsCount:function(){return this.task.msgs.length},attachment:function(){return this.task.attachments.length},coverUrl:function(){return!!this.task.cover&&this.task.cover.url},dueDate:function(){var e=this.task.dueDate[1];if(e){var t=new Date(e),s=Te()(t).format("ll").split(",")[0];return s}return!1}},components:{avatarUser:ke}},ye=we,Ce=Object(l["a"])(ye,me,fe,!1,null,null,null),xe=Ce.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"window-overlay",style:e.objStyle,on:{click:e.close}})},Oe=[],Se={props:{dark:{type:Boolean,default:!0}},methods:{close:function(){this.$emit("close")}},computed:{objStyle:function(){if(this.dark)return{"background-color":"#000",opacity:.8}}}},Ie=Se,Le=(s("0bf2"),Object(l["a"])(Ie,je,Oe,!1,null,null,null)),$e=Le.exports,Me=s("8055"),De=s.n(Me),Ue="/",Ee=function(){k=De()(Ue)},Ne=function(){k=null},Ae=function(e,t){k.on(e,t)},Be=function(e,t){k.off(e,t)},Re=function(e,t){k.emit(e,t)},Je=function(){return k.id},Pe={setup:Ee,terminate:Ne,on:Ae,off:Be,emit:Re,getSocketId:Je},Fe={props:{taskListData:Object},data:function(){return{addTaskMode:!1,newTask:{title:""},editTitleMode:!1,copyTitle:"",barIsOpen:!1}},created:function(){this.taskListData.isNew&&(this.startEditTitle(),this.$store.commit("endAddList",this.taskListData))},computed:{tasks:{get:function(){return this.taskListData.tasks},set:function(e){this.taskListData.tasks=e}},dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"task-list-items"}}},methods:{startAddTaskMode:function(){var e=this;this.addTaskMode=!0,setTimeout((function(){e.$refs.inputTxtAddTask.focus()}),0)},closeAddTaskMode:function(){var e=this;setTimeout((function(){e.newTask.title="",e.addTaskMode=!1}),150)},endMove:function(e){var t=e.oldIndex,s=e.newIndex,a=e.from,r=e.to,n=a.dataset.id,i=r.dataset.id;this.$store.dispatch({type:"moveTask",idMoveFrom:n,idMoveTo:i,oldIndex:t,newIndex:s}).then((function(){Pe.emit("change board")}))},keydownNewTask:function(e){"Enter"===e.key&&this.createTask()},createTask:function(){var e=this;""!==this.newTask.title&&(this.addTaskMode=!1,this.$store.dispatch({type:"addTask",taskListId:this.taskListData.id,newTask:this.newTask}).then((function(t){e.newTask.title="",Pe.emit("change board")})))},deleteList:function(){this.addTaskMode=!1,this.$store.dispatch({type:"removeList",listId:this.taskListData.id}).then((function(e){console.log("list deleted",e)}))},startEditTitle:function(){var e=this;this.editTitleMode=!0,this.copyTitle=this.taskListData.title,setTimeout((function(){var t=e.$refs.editTitle;t.focus()}),0)},onKeyEditTitle:function(e){"Enter"===e.key&&this.blurEditTitle()},blurEditTitle:function(){this.editTitleMode=!1,this.$store.dispatch({type:"setListTitle",taskListId:this.taskListData.id,title:this.copyTitle})},removeList:function(){var e=this;le.a.fire({title:"Are you sure of You won't remove the List?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&e.$store.dispatch({type:"removeList",taskListId:e.taskListData.id}).then((function(){le.a.fire("Deleted!","Your list has been deleted.","success"),Pe.emit("change board")}))}))}},components:{taskPreview:xe,draggable:oe.a,windowOverlay:$e}},ze=Fe,Ye=Object(l["a"])(ze,ce,ue,!1,null,null,null),Xe=Ye.exports,qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"nav-board"},[s("div",{staticClass:"board-controls"},[s("button",{staticClass:"board-title btn",class:{action:e.editTitleMode},on:{click:e.changeTitle}},[e.editTitleMode?s("input",{directives:[{name:"model",rawName:"v-model",value:e.titleToChange,expression:"titleToChange"}],ref:"inputTitle",style:e.styleInputTitle,attrs:{type:"text"},domProps:{value:e.titleToChange},on:{blur:e.saveTitle,keydown:e.onKeydownTitle,input:function(t){t.target.composing||(e.titleToChange=t.target.value)}}}):s("h2",[e._v(e._s(e.boardData.title))])]),e._m(0),s("add-members",{attrs:{users:e.users,currBoardUsers:e.boardData.users},on:{filter:e.filter,updateBoardUsers:e.updateBoardUsers}})],1),e._m(1)])},We=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"star-btn btn",attrs:{"aria-label":"Star Board"}},[s("i",{staticClass:"far fa-star",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"menu-btn btn"},[s("i",{staticClass:"fas fa-ellipsis-h menu-btn-icon",attrs:{"aria-hidden":"true"}}),e._v("Show Menu")])}],Ge={props:{boardData:Object},data:function(){return{titleToChange:"",editTitleMode:!1,users:[]}},created:function(){},methods:{changeTitle:function(){var e=this;this.editTitleMode=!0,this.titleToChange=this.boardData.title,setTimeout((function(){e.$refs.inputTitle.focus()}),0)},saveTitle:function(){this.$emit("changeTitle",this.titleToChange),this.editTitleMode=!1},onKeydownTitle:function(e){"Enter"===e.key&&this.saveTitle()},filter:function(e){var t=this;this.$store.dispatch({type:"loadFilter",userFilter:e}).then((function(e){t.getUsersFromStore()}))},updateBoardUsers:function(e){this.$store.dispatch({type:"saveUsersBoard",users:e}).then((function(e){console.log(e)}))},getUsersFromStore:function(){this.users=this.$store.getters.users}},computed:{styleInputTitle:function(){return{width:this.titleToChange.length+"ch"}}},components:{addMembers:W}},Ke=Ge,Ve=Object(l["a"])(Ke,qe,We,!1,null,null,null),He=Ve.exports,Qe={created:function(){var e=this,t=this.boardId||this.$route.params.id;this.$store.dispatch({type:"getBoard",boardId:t}).then((function(t){if(!t.failed)return t;e.$router.push("/")})).then((function(t){Pe.setup(),Pe.emit("connect-to-board",t._id),Pe.on("change-data",(function(t){e.$store.dispatch({type:"dataFromSocket",data:t})}))}))},destroyed:function(){Pe.terminate()},methods:{createList:function(){this.$store.dispatch({type:"addList"}).then((function(e){}))},move:function(e){var t=e.oldIndex,s=e.newIndex;this.$store.dispatch({type:"moveList",oldIndex:t,newIndex:s})},changeTitle:function(e){this.$store.dispatch({type:"changeTitleBoard",title:e})}},computed:{boardData:function(){return this.$store.getters.board},style:function(){if(this.boardData.style.background&&!this.boardData.style.background.includes("http"))return{boardData:null}},dragOptions:function(){return{animation:"200",group:"task-list"}}},components:{taskList:Xe,navBoard:He,draggable:oe.a}},Ze=Qe,et=Object(l["a"])(Ze,re,ne,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.currTask?s("section",{staticClass:"task-details"},[s("task-modal",{attrs:{currTask:e.currTask,boardId:e.boardId},on:{save:e.saveTask}})],1):e._e()},at=[],rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"task-modal"},[s("transition",{attrs:{name:"modal"}},[e.isOpen?s("div",[s("div",{staticClass:"overlay",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal(t)}}},[e.currTask?s("div",{staticClass:"modal"},[e.taskToSave.cover?s("div",{staticClass:"cover-area"},[s("cover-preview",{attrs:{cover:e.taskToSave.cover}})],1):e._e(),s("div",{staticClass:"title-area"},[s("div",{staticClass:"icon-container"},[s("i",{staticClass:"far fa-caret-square-up"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.taskToSave.title,expression:"taskToSave.title"}],staticClass:"task-title",attrs:{type:"textarea",placeholder:"Title"},domProps:{value:e.taskToSave.title},on:{blur:e.setTitle,keydown:e.keydownTitle,input:function(t){t.target.composing||e.$set(e.taskToSave,"title",t.target.value)}}})]),s("div",{staticClass:"title-info-container"},[s("span",[e._v("in list")]),s("a",{staticClass:"list-name-container",attrs:{href:"#"}},[e._v(e._s(e.listName))])])]),s("div",{staticClass:"detail-area"},[e.currTask?s("div",{staticClass:"date-area"},[e.taskToSave.dueDate.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-calendar-day"}),s("h3",[e._v("Due Date")])]):e._e(),e.currTask.dueDate.length||e.addDateMode?s("date-picker",{on:{input:function(t){return e.save("setDueDate",{dueDate:e.taskToSave.dueDate})}},model:{value:e.taskToSave.dueDate,callback:function(t){e.$set(e.taskToSave,"dueDate",t)},expression:"taskToSave.dueDate"}}):e._e()],1):e._e(),e.taskToSave.members.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-users"}),s("h3",[e._v("Members")])]):e._e(),e.taskToSave.members.length?s("show-members",{attrs:{members:e.taskToSave.members}}):e._e(),e.taskToSave.labels.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-tags"}),s("h3",[e._v("Labels")])]):e._e(),e.taskToSave.labels.length?s("label-preview",{on:{input:function(t){return e.save("setLabel",{labels:e.taskToSave.labels})}},model:{value:e.taskToSave.labels,callback:function(t){e.$set(e.taskToSave,"labels",t)},expression:"taskToSave.labels"}}):e._e(),s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-align-justify"}),s("h3",[e._v("Description")])]),e.editDesc?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskToSave.desc,expression:"taskToSave.desc"}],ref:"descriptionTextarea",staticClass:"description-container",attrs:{placeholder:"Add a more detailed description…",cols:"65",rows:"10"},domProps:{value:e.taskToSave.desc},on:{blur:e.saveDesc,input:function(t){t.target.composing||e.$set(e.taskToSave,"desc",t.target.value)}}}):s("p",{on:{click:e.startEditDesc}},[e._v(e._s(e.descToView))]),e.taskToSave.checklists?s("checklist-list",{attrs:{boardId:e.boardId,checklists:e.taskToSave.checklists},on:{save:e.saveCheckList}}):e._e(),s("file-picker",{on:{input:function(t){return e.save("attachments",{attachments:e.taskToSave.attachments})}},model:{value:e.taskToSave.attachments,callback:function(t){e.$set(e.taskToSave,"attachments",t)},expression:"taskToSave.attachments"}}),e.addMemberMode?s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.addMemberMode=!1}}}):e._e(),e.addMemberMode?s("add-member-to-task",{attrs:{board:e.board},on:{input:function(t){return e.save("addMember",{users:e.taskToSave.members})}},model:{value:e.taskToSave.members,callback:function(t){e.$set(e.taskToSave,"members",t)},expression:"taskToSave.members"}}):e._e(),s("div",{staticClass:"icon-container"},[s("i",{staticClass:"far fa-comment-dots"}),s("h3",[e._v("Activity")])]),s("activity-chat",{attrs:{user:e.loggedinUser,massages:e.taskToSave.msgs},on:{save:e.saveMsgs}})],1),s("div",{staticClass:"add-area"},[s("div",[e.isJoin?e._e():s("button",{on:{click:e.join}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Join ")])]),s("h3",[e._v("ADD TO CARD")]),s("div",{staticClass:"add-members-container"},[s("button",{on:{click:function(t){e.addMemberMode=!e.addMemberMode}}},[s("i",{staticClass:"fas fa-users"}),e._v(" Members ")])]),s("div",{staticClass:"edit-labels-container"},[s("button",{on:{click:function(t){e.addLabelMode=!e.addLabelMode}}},[s("i",{staticClass:"fas fa-tags"}),e._v(" Labels ")]),e.addLabelMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.addLabelMode=!1}}}),s("label-picker",{on:{input:function(t){return e.save("setLabel",{labels:e.taskToSave.labels})}},model:{value:e.taskToSave.labels,callback:function(t){e.$set(e.taskToSave,"labels",t)},expression:"taskToSave.labels"}})]:e._e()],2),s("div",{staticClass:"add-chacklist-container"},[s("button",{on:{click:function(t){e.addCheckListMode=!e.addCheckListMode}}},[s("i",{staticClass:"fas fa-tasks"}),e._v(" Checklist ")]),e.addCheckListMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.addCheckListMode=!1}}}),s("add-checklist",{on:{close:function(t){e.addCheckListMode=!1},add:e.addChecklist}})]:e._e()],2),s("div",[s("button",{on:{click:function(t){e.addDateMode=!e.addDateMode}}},[s("i",{staticClass:"fas fa-calendar-day"}),e._v(" Due Date ")])]),s("div",[s("button",{on:{click:e.openFile}},[s("i",{staticClass:"fas fa-file-image"}),s("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*",multiple:"",hidden:""},on:{change:e.uploadImg}}),e._v(" Attachment ")])]),s("div",[s("div",{staticClass:"edit-cover-container"},[s("button",{on:{click:function(t){e.isCoverMode=!e.isCoverMode}}},[s("i",{staticClass:"fas fa-portrait"}),e._v(" Cover ")]),e.isCoverMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.isCoverMode=!1}}}),s("cover-picker",{attrs:{covers:e.taskToSave.attachments},on:{input:function(t){return e.save("setCover",{cover:{url:e.taskToSave.cover.url}})}},model:{value:e.taskToSave.cover,callback:function(t){e.$set(e.taskToSave,"cover",t)},expression:"taskToSave.cover"}})]:e._e()],2)]),s("div",{staticClass:"remove"},[s("button",{on:{click:e.startRemoveTask}},[s("i",{staticClass:"fas fa-trash-alt"}),e._v(" Remove ")])])])]):e._e()])]):e._e()])],1)},nt=[],it=(s("4160"),s("159b"),function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}),ot={makeId:it},ct=(s("d3b7"),"dy31deyp1"),ut="g1gyj9ce",dt="https://api.cloudinary.com/v1_1/".concat(ct,"/image/upload"),lt=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("file",t),s.append("upload_preset",ut),e.prev=3,e.next=6,fetch(dt,{method:"POST",body:s});case 6:return a=e.sent,e.next=9,a.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e["catch"](3),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),mt={uploadImg:lt},ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"date-container"},[s("el-date-picker",{staticClass:"date-picker-container",attrs:{type:"daterange","range-separator":"To","default-value":"2010-10-01","start-placeholder":"Start date","end-placeholder":"End date"},on:{change:e.save},model:{value:e.dueDate,callback:function(t){e.dueDate=t},expression:"dueDate"}})],1)},ht=[],pt={data:function(){return{dueDate:this.value}},props:{value:Array},methods:{save:function(){this.dueDate,this.$emit("input",this.dueDate)}},created:function(){}},vt=pt,bt=Object(l["a"])(vt,ft,ht,!1,null,null,null),gt=bt.exports,kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"show-members"},e._l(e.members,(function(t){return s("div",{key:t._id,staticClass:"avatar"},[t.avatar&&t.avatar.includes(".com")?s("img",{attrs:{src:t.avatar}}):s("span",[e._v(e._s(e._f("short-name")(t.name)))])])})),0)},_t=[],Tt={data:function(){return{}},created:function(){this.members},props:{members:Array}},wt=Tt,yt=Object(l["a"])(wt,kt,_t,!1,null,null,null),Ct=yt.exports,xt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:"container",staticClass:"label-picker"},[s("h3",[e._v("Labels")]),e._l(e.labels,(function(t,a){return s("div",{key:t.id},[s("div",{staticClass:"lable",style:{"background-color":t.color},on:{click:function(s){return e.set(t)}}},[s("div",[e._v(" "+e._s(t.name)+" ")]),s("div",[e._v(e._s(e.isActiveMap[a]))])])])}))],2)},jt=[],Ot=(s("c740"),s("a434"),{props:{value:Array},data:function(){return{labels:[{name:"New Feature",color:"#409eff",inEdit:!1,isActive:!0,id:0},{name:"User stories",color:"#67c23a",inEdit:!1,isActive:!0,id:1},{name:"Task",color:"#909399",inEdit:!1,isActive:!0,id:2},{name:"Issue",color:"#e6a23c",inEdit:!1,isActive:!0,id:3},{name:"Bug",color:"#f56c6c",inEdit:!1,isActive:!0,id:4}]}},created:function(){var e=this;setTimeout((function(){e.$refs.container.focus()}),0)},methods:{set:function(e){var t=this.labelsActive?JSON.parse(JSON.stringify(this.labelsActive)):[],s=this.labelsActive.findIndex((function(t){return t.id===e.id}));-1===s?t.push(e):t.splice(s,1),this.$emit("input",t)}},computed:{labelsActive:function(){return this.value},isActiveMap:function(){var e=this,t=this.labels.map((function(t){return-1!==e.labelsActive.findIndex((function(e){return e.id===t.id}))}));return t.map((function(e){return e?"V":""}))}}}),St=Ot,It=Object(l["a"])(St,xt,jt,!1,null,null,null),Lt=It.exports,$t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.value?s("section",{staticClass:"label-preview"},[s("div",{staticClass:"labels-container"},[e._l(e.labels,(function(t){return s("div",{key:t.id,staticClass:"label",style:{"background-color":t.color},attrs:{type:t.type},on:{click:function(t){e.add=!0}}},[e._v(e._s(t.name))])})),s("button",{staticClass:"add-Label",on:{click:function(t){e.add=!0}}},[s("i",{staticClass:"fas fa-plus"})]),e.add?[s("window-overlay",{attrs:{dark:!1},on:{close:function(t){e.add=!1}}}),s("label-picker",{model:{value:e.labels,callback:function(t){e.labels=t},expression:"labels"}})]:e._e()],2)]):e._e()},Mt=[],Dt={props:{value:Array},data:function(){return{add:!1}},methods:{handleClose:function(e){this.labels[e].isActive=!1},close:function(){var e=this.labels;e||(e=[]),e=e.map((function(e){return e.inEdit=!1,e})),this.$emit("input",e)}},computed:{labels:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},components:{labelPicker:Lt,windowOverlay:$e}},Ut=Dt,Et=Object(l["a"])(Ut,$t,Mt,!1,null,null,null),Nt=Et.exports,At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"attachment-container"})},Bt=[],Rt={data:function(){return{fileList:this.value}},props:{value:Array},methods:{handleRemove:function(e,t){var s=this.fileList.findIndex((function(t){return t.file.uid===e.file.uid}));this.fileList.splice(s,1),this.$emit("input",this.fileList)}}},Jt=Rt,Pt=Object(l["a"])(Jt,At,Bt,!1,null,null,null),Ft=Pt.exports,zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:"container",staticClass:"label-picker"},[s("h3",[e._v("Members to Add")]),s("ul",e._l(e.board.users,(function(t){return s("li",{key:t._id,on:{click:function(s){return e.addMemberToTask(t)}}},[e._v(e._s(t.name))])})),0)])},Yt=[],Xt={props:{value:Array,board:Object},data:function(){return{members:JSON.parse(JSON.stringify(this.value))}},created:function(){this.board},methods:{addMemberToTask:function(e){var t=this.members.find((function(t){return t._id===e._id}));t||(this.members.push(e),this.$emit("input",this.members))}}},qt=Xt,Wt=Object(l["a"])(qt,zt,Yt,!1,null,null,null),Gt=Wt.exports,Kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"cover-preview"},[e.cover.url?s("img",{attrs:{src:e.cover.url,alt:""}}):e._e()])},Vt=[],Ht={props:{cover:Object}},Qt=Ht,Zt=Object(l["a"])(Qt,Kt,Vt,!1,null,null,null),es=Zt.exports,ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{ref:"container",staticClass:"cover-picker"},[s("h3",[e._v("covers")]),e.covers?s("div",{staticClass:"covers"},e._l(e.covers,(function(t,a){return s("div",{key:t.url,staticClass:"cover",on:{click:function(s){return e.set(t)}}},[t.url?s("img",{attrs:{src:t.url,alt:""}}):e._e(),e.isCovers[a]?s("span",{staticClass:"selected"},[e._v("✔️")]):e._e()])})),0):e._e()])},ss=[],as={props:{value:Object,covers:Array},data:function(){return{cover:this.value}},methods:{set:function(e){this.cover=e,this.$emit("input",this.cover)}},computed:{isCovers:function(){var e=this;return this.covers.map((function(t){return t.url===e.cover.url}))}}},rs=as,ns=Object(l["a"])(rs,ts,ss,!1,null,null,null),is=ns.exports,os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"activity-chat"},[s("massage-write",{attrs:{user:e.user},on:{"new-msg":e.newMsg}}),e._l(e.massages,(function(t,a){return s("massage-preview",{key:t.createAt,attrs:{msg:t,user:e.user},on:{remove:function(t){return e.removeMsg(a)},"save-msg":function(t){return e.saveMsg(a,t)}}})}))],2)},cs=[],us=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"massage-preview"},[s("div",{staticClass:"avatar"},[e.msg.user.avatar&&e.msg.user.avatar.includes(".com")?s("img",{attrs:{src:e.msg.user.avatar}}):s("span",[e._v(e._s(e._f("short-name")(e.msg.user.name)))])]),s("div",{staticClass:"contain"},[s("div",{staticClass:"title"},[s("span",{staticClass:"name"},[e._v(e._s(e.msg.user.name))]),s("span",{staticClass:"time"},[e._v(e._s(e.msg.createdAt))])]),e.inEdit?s("massage-write",{attrs:{editMsg:e.msg,user:e.user},on:{"new-msg":e.saveMsg}}):[s("div",{staticClass:"text"},[s("span",[e._v(" "+e._s(e.msg.txt)+" ")])]),e.isUser?s("div",{staticClass:"action"},[s("a",{attrs:{href:"#"},on:{click:function(t){e.inEdit=!0}}},[e._v("Edit")]),e._v(" - "),s("a",{attrs:{href:"#"},on:{click:e.remove}},[e._v("Delete")])]):e._e()]],2)])},ds=[],ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"massage-write",class:e.active},[s("div",{staticClass:"avatar"},[e.user.avatar&&e.user.avatar.includes(".com")?s("img",{attrs:{src:e.user.avatar}}):s("span",[e._v(e._s(e._f("short-name")(e.user.name)))])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.send(t)}}},[s("div",{staticClass:"comment-frame"},[s("div",{staticClass:"comment-box"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"activity-input",style:e.isActive?"":{cursor:"pointer"},attrs:{placeholder:"Write a comment..."},domProps:{value:e.msg.txt},on:{focus:e.startWrite,blur:e.blur,input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),e.isActive?s("button",{staticClass:"btn",style:e.msg.txt?"":{cursor:"not-allowed"}},[e._v("Save")]):e._e()])])])])},ms=[],fs={props:{user:Object,editMsg:Object},data:function(){return{msg:{user:null,txt:""},isActive:!1}},methods:{startWrite:function(){this.isActive=!0},send:function(){this.msg.createdAt=this.editMsg?this.editMsg.createdAt:Date.now(),this.$emit("new-msg",this.msg),this.isActive=!1,this.msg.txt=""},blur:function(){this.msg.txt||(this.isActive=!1)}},created:function(){this.msg.user={_id:this.user._id,name:this.user.name,avatar:this.user.avatar},this.editMsg&&(this.msg.txt=this.editMsg.txt)},computed:{active:function(){return this.isActive?{"in-focuse":!0}:""}}},hs=fs,ps=(s("1190"),Object(l["a"])(hs,ls,ms,!1,null,null,null)),vs=ps.exports,bs={props:{msg:Object,user:Object},data:function(){return{inEdit:!1}},computed:{isUser:function(){return this.user._id===this.msg.user._id}},methods:{remove:function(){this.$emit("remove")},saveMsg:function(e){this.inEdit=!1,this.$emit("save-msg",e)}},components:{massageWrite:vs}},gs=bs,ks=Object(l["a"])(gs,us,ds,!1,null,null,null),_s=ks.exports,Ts={props:{massages:Array,user:Object},components:{massagePreview:_s,massageWrite:vs},methods:{newMsg:function(e){var t=JSON.parse(JSON.stringify(this.massages));t.unshift(e),this.$emit("save",JSON.parse(JSON.stringify(t)))},removeMsg:function(e){var t=JSON.parse(JSON.stringify(this.massages));t.splice(e,1),this.$emit("save",JSON.parse(JSON.stringify(t)))},saveMsg:function(e,t){var s=JSON.parse(JSON.stringify(this.massages));s.splice(e,1,t),this.$emit("save",JSON.parse(JSON.stringify(s)))}}},ws=Ts,ys=Object(l["a"])(ws,os,cs,!1,null,null,null),Cs=ys.exports,xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"add-checklist"},[s("div",{staticClass:"title"},[s("h3",[e._v("Add Checklist")]),s("button",{on:{click:e.close}},[e._v("×")])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.add(t)}}},[s("label",[s("div",[e._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),s("button",[e._v("Add")])])])},js=[],Os={data:function(){return{title:""}},methods:{close:function(){this.$emit("close")},add:function(){this.$emit("add",this.title)}}},Ss=Os,Is=Object(l["a"])(Ss,xs,js,!1,null,null,null),Ls=Is.exports,$s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"checklist-list"},[s("draggable",e._b({attrs:{handle:"h3"},on:{end:e.save},model:{value:e.checklistsToSave,callback:function(t){e.checklistsToSave=t},expression:"checklistsToSave"}},"draggable",e.dragOptions,!1),e._l(e.checklistsToSave,(function(t,a){return s("checklist-preview",{key:t.id,attrs:{checklist:t,boardId:e.boardId},on:{move:e.save,chengeChecklist:function(t){return e.chengeChecklist(a,t)}}})})),1)],1)},Ms=[],Ds=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"checklist-preview"},[s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-tasks"}),s("h3",[e._v(e._s(e.checklist.title))])]),s("div",{staticClass:"progress"},[s("span",[e._v(e._s(e.percentage)+"%")]),s("el-progress",{attrs:{percentage:e.percentage,"show-text":!1,color:e.customColor}})],1),s("div",{staticClass:"check-container"},[s("draggable",e._b({on:{end:e.endMove},model:{value:e.checklist.checkItems,callback:function(t){e.$set(e.checklist,"checkItems",t)},expression:"checklist.checkItems"}},"draggable",e.dragOptions,!1),[s("transition-group",{attrs:{type:"transition"}},e._l(e.checklist.checkItems,(function(t,a){return s("div",{key:t.id,staticClass:"check-item"},[e.editItemMode[a]?s("check-edit",{attrs:{checkItemTxt:t.txt},on:{close:e.closeEditItemMode,add:function(s){return e.editCheckItem(s,t,a)}}}):s("check-preview",{attrs:{checkItem:t},on:{click:function(t){return e.setEditItemMode(a)},check:function(t){return e.check(t,a)}}})],1)})),0)],1)],1),e.addItemMode?s("check-edit",{on:{close:function(t){e.addItemMode=!1},add:e.editCheckItem}}):s("button",{on:{click:function(t){e.addItemMode=!0}}},[e._v("Add an item")])],1)},Us=[],Es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"ceck-edit"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],attrs:{placeholder:"Add ad item"},domProps:{value:e.txt},on:{input:function(t){t.target.composing||(e.txt=t.target.value)}}}),s("button",{on:{click:e.add}},[e._v(e._s(e.txtBtn))]),s("button",{on:{click:e.close}},[e._v("×")])])},Ns=[],As={props:{checkItemTxt:{type:String,default:""}},created:function(){this.checkItemTxt&&(this.txt=this.checkItemTxt)},data:function(){return{txt:""}},methods:{add:function(){(this.txt||this.checkItemTxt)&&this.$emit("add",this.txt)},close:function(){this.txt="",this.$emit("close")}},computed:{txtBtn:function(){return this.checkItemTxt?"Save":"Add"}}},Bs=As,Rs=Object(l["a"])(Bs,Es,Ns,!1,null,null,null),Js=Rs.exports,Ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"check-preview"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?e._i(e.isDone,null)>-1:e.isDone},on:{change:[function(t){var s=e.isDone,a=t.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=e._i(s,n);a.checked?i<0&&(e.isDone=s.concat([n])):i>-1&&(e.isDone=s.slice(0,i).concat(s.slice(i+1)))}else e.isDone=r},e.check]}}),s("div",{staticClass:"text",on:{click:e.click}},[e._v(e._s(e.checkItem.txt))])])},Fs=[],zs={props:{checkItem:Object},data:function(){return{isDone:!1}},created:function(){this.isDone=this.checkItem.isDone},methods:{click:function(){this.$emit("click")},check:function(){this.$emit("check",this.isDone)}}},Ys=zs,Xs=Object(l["a"])(Ys,Ps,Fs,!1,null,null,null),qs=Xs.exports,Ws={props:{checklist:Object,boardId:String},created:function(){this.closeEditItemMode()},data:function(){return{addItemMode:!1,editItemMode:[]}},computed:{percentage:function(){if(!this.checklist.checkItems.length)return 0;var e=this.checklist.checkItems.map((function(e){return e.isDone})),t=e.length,s=e.filter((function(e){return e})).length,a=Math.round(s/t*100);return a},customColor:function(){return 0===this.percentage?"#000":this.percentage<40?"#f00":this.percentage<60?"#00f":100===this.percentage?"#0f0":void 0},dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"checklist-items"}}},methods:{editCheckItem:function(e,t,s){this.addItemMode=!1,this.closeEditItemMode();var a=JSON.parse(JSON.stringify(this.checklist));if(!e&&t)return a.checkItems.splice(s,1),void this.$emit("chengeChecklist",a);var r={id:t?t.id:this.boardId+"-"+ot.makeId(),txt:e,isDone:!!t&&t.isDone};t?a.checkItems.splice(s,1,r):a.checkItems.push(r),this.$emit("chengeChecklist",a)},setEditItemMode:function(e){this.closeEditItemMode(),this.editItemMode.splice(e,1,!0)},closeEditItemMode:function(){this.editItemMode=this.checklist.checkItems.map((function(){return!1}))},check:function(e,t){var s=JSON.parse(JSON.stringify(this.checklist)),a=s.checkItems[t];a.isDone=e,s.checkItems.splice(t,1,a),this.$emit("chengeChecklist",s)},endMove:function(){this.$emit("move")}},components:{checkEdit:Js,checkPreview:qs,draggable:oe.a}},Gs=Ws,Ks=Object(l["a"])(Gs,Ds,Us,!1,null,null,null),Vs=Ks.exports,Hs={props:{checklists:Array,boardId:String},data:function(){return{checklistsToSave:null}},created:function(){this.checklistsToSave=JSON.parse(JSON.stringify(this.checklists))},methods:{save:function(){this.$emit("save",this.checklistsToSave)},chengeChecklist:function(e,t){this.checklistsToSave.splice(e,1,t),this.save()}},watch:{checklists:{deep:!0,handler:function(){this.checklistsToSave=JSON.parse(JSON.stringify(this.checklists))}}},computed:{dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"task-list"}}},components:{checklistPreview:Vs,draggable:oe.a}},Qs=Hs,Zs=Object(l["a"])(Qs,$s,Ms,!1,null,null,null),ea=Zs.exports,ta={props:{boardId:String,currTask:Object},data:function(){return{isOpen:!1,taskToSave:null,editDesc:!1,addLabelMode:!1,addMemberMode:!1,addDateMode:!1,addCheckListMode:!1,isCoverMode:!1,board:{}}},created:function(){this.isOpen=!0,this.taskToSave=JSON.parse(JSON.stringify(this.currTask)),this.board=this.$store.getters.board},methods:{closeModal:function(){this.isOpen=!1,this.$router.push("/"+this.boardId)},save:function(e,t){this.$emit("save",Object(I["a"])({type:e,taskId:this.taskToSave.id},t))},setTitle:function(){this.currTask.title&&this.save("setTitle",{title:this.taskToSave.title})},startEditDesc:function(){var e=this;this.editDesc=!0,setTimeout((function(){var t=e.$refs.descriptionTextarea;t.focus()}),0)},saveDesc:function(){this.save("editDesc",{desc:this.taskToSave.desc}),this.editDesc=!1},keydownTitle:function(e){"Enter"===e.key&&(this.currTask.title&&this.save("setTitle",{title:this.taskToSave.title}),e.target.blur())},openFile:function(){this.$refs.fileInput.click()},uploadImg:function(e){var t=this,s=e.target.files;s.forEach((function(e){mt.uploadImg(e).then((function(e){var s={width:e.width,height:e.height,format:e.format,created:e.created_at,url:e.url,fileName:e.original_filename};t.taskToSave.attachments.push(s),t.save("attachments",{attachments:t.taskToSave.attachments})}))}))},join:function(){var e=this.$store.getters.loggedinUser;this.taskToSave.members.push({id:e._id,name:e.name,avatar:e.avatar}),this.save("addMember",{user:e})},saveMsgs:function(e){this.taskToSave.msgs=e,this.save("setMsgs",{msgs:e})},addChecklist:function(e){var t={id:this.boardId+"-"+ot.makeId(),title:e,checkItems:[]};this.taskToSave.checklists.push(t),this.addCheckListMode=!1,this.save("setChecklists",{checklists:this.taskToSave.checklists})},saveCheckList:function(e){this.taskToSave.checklists=e,this.save("setChecklists",{checklists:this.taskToSave.checklists})},startRemoveTask:function(){var e=this;le.a.fire({title:"Are you sure of You won't remove the Task?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&e.$store.dispatch({type:"removeTask",taskId:e.taskToSave.id}).then((function(){e.$router.push("/"+e.boardId),le.a.fire("Deleted!","Your task has been deleted.","success"),Pe.emit("change board")}))}))}},computed:{listName:function(){return this.$store.getters.currList.title},descToView:function(){return this.taskToSave.desc?this.taskToSave.desc:"Add a more detailed description…"},isJoin:function(){var e=this;return!!this.taskToSave.members.find((function(t){return t.id===e.$store.getters.loggedinUser._id}))},loggedinUser:function(){return this.$store.getters.loggedinUser},isCover:function(){}},watch:{currTask:{deep:!0,handler:function(){this.taskToSave=JSON.parse(JSON.stringify(this.currTask))}}},components:{labelPicker:Lt,showMembers:Ct,datePicker:gt,labelPreview:Nt,windowOverlay:$e,filePicker:Ft,activityChat:Cs,addChecklist:Ls,checklistList:ea,coverPreview:es,coverPicker:is,addMemberToTask:Gt}},sa=ta,aa=Object(l["a"])(sa,rt,nt,!1,null,"76f2e7ac",null),ra=aa.exports,na={data:function(){return{boardId:null,currTask:null}},mounted:function(){this.$modal.show("editModal")},created:function(){var e=this,t=this.$route.params.id,s=t.split("-")[0];this.boardId=s,this.$store.dispatch({type:"getTask",taskId:t,boardId:s}).then((function(t){e.currTask=t}))},methods:{saveTask:function(e){this.$store.dispatch({type:"saveTask",objSave:e})}},components:{taskModal:ra}},ia=na,oa=Object(l["a"])(ia,st,at,!1,null,null,null),ca=oa.exports;a["default"].use(_["a"]);var ua=[{path:"/",name:"home",component:j},{path:"/signup",name:"signup",component:D},{path:"/login",name:"login",component:R},{path:"/userPage",name:"user-page",component:ae},{path:"/:id",name:"board",component:tt,children:[{path:"/task/:id",name:"task-details",component:ca}]}],da=new _["a"]({mode:"history",base:"/",routes:ua}),la=da,ma=s("2f62"),fa=(s("3ca3"),s("ddb0"),s("2b3d"),s("bc3a")),ha=s.n(fa),pa="/api/",va=ha.a.create({withCredentials:!0}),ba=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s,a,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:"get",a=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,va({url:"".concat(pa).concat(t),method:s,data:a});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status?(n="Unathorized!",i="You don't have permission for this action..."):(n="Ooops..",i="Something went wrong..."),le.a.fire({icon:"error",title:n,text:i}),e.abrupt("return",{failed:!0});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),ga={get:function(e,t){return ba(e,"GET",t)},post:function(e,t){return ba(e,"POST",t)},put:function(e,t){return ba(e,"PUT",t)},delete:function(e,t){return ba(e,"DELETE",t)}},ka=function(e){return e&&sessionStorage.setItem("user",JSON.stringify(e)),e},_a=function(e){return ga.get("user/".concat(e))},Ta=function(e){return ga.delete("user/".concat(e))},wa=function(e){return ga.put("user/".concat(e._id),e)},ya=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ga.post("auth/login",t);case 2:return s=e.sent,e.abrupt("return",ka(s));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ga.post("auth/signup",t);case 2:return s=e.sent,e.abrupt("return",ka(s));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xa=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ga.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ja=function(e){var t=new URLSearchParams;return t.set("name",e.txt),ga.get("user?".concat(t))},Oa={login:ya,logout:xa,signup:Ca,getUsers:ja,getById:_a,remove:Ta,update:wa},Sa=null;sessionStorage.user&&(Sa=JSON.parse(sessionStorage.user));var Ia={state:{loggedinUser:Sa,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var s=t.user;e.loggedinUser=s},setUsers:function(e,t){var s=t.users;e.users=s},removeUser:function(e,t){var s=t.userId;e.users=e.users.filter((function(e){return e._id!==s}))}},actions:{login:function(e,t){var s=t.userCred;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.login(s);case 2:return a=t.sent,e.commit({type:"setUser",user:a}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},signup:function(e,t){var s=t.userCred;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.signup(s);case 2:return a=t.sent,e.commit({type:"setUser",user:a}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.getUsers();case 2:return s=t.sent,console.log("users",s),e.commit({type:"setUsers",users:s}),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){var s=t.userId;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.remove(s);case 2:e.commit({type:"removeUser",userId:s});case 3:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){var s=t.user;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oa.update(s);case 2:return s=t.sent,e.commit({type:"setUser",user:s}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},loadFilter:function(e,t){var s=t.userFilter;return e.state.filterBy=JSON.parse(JSON.stringify(s)),Oa.getUsers(s).then((function(t){return e.commit({type:"setUsers",users:t}),t}))}}},La=s("ade3"),$a=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ga.get("board/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ma=function(e){return ga.get("board/id/".concat(e))},Da=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._id?s=ga.put("board/id/".concat(t._id),t):(t.createdAt=new Date,s=ga.post("board",t)),e.next=3,s;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ua=function(e){return ga.delete("board/".concat(e))},Ea=function(e){return e&&(e+="-"+ot.makeId()),Object(La["a"])({id:e,title:"",dueDate:[],desc:"",labels:[],cover:{url:""},attachments:[],checklists:[],members:[],msgs:[]},"dueDate",[])},Na=function(e){return e&&(e+="-"+ot.makeId()),{id:e,title:"",tasks:[]}},Aa=function(e,t){var s={user:e,prefs:t};return ga.post("board/",s)},Ba=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.socketId=Pe.getSocketId(),e.abrupt("return",ga.put("board/data/".concat(t),s));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),Ra={query:$a,getById:Ma,removeBoard:Ua,save:Da,getEmptyList:Na,getEmptyTask:Ea,addBoard:Aa,putData:Ba},Ja={state:{board:null,currTask:null,currList:null},mutations:{setBoard:function(e,t){e.board=t},addList:function(e,t){t.isNew=!0,e.board.taskLists.push(t)},endAddList:function(e,t){delete t.isNew,e.board.taskLists.splice(-1,t)},removeList:function(e,t){var s=e.board.taskLists.findIndex((function(e){return e.id===t}));-1!==s&&e.board.taskLists.splice(s,1)},addTask:function(e,t){var s=e.board.taskLists.findIndex((function(e){return e.id===t.taskListId}));e.board.taskLists[s].tasks.push(t.task)},saveTask:function(e,t){var s,a=t.taskId,r=t.type,n=e.board.taskLists.findIndex((function(e){var t=e.tasks.findIndex((function(e){return e.id===a}));return-1!==t&&(s=t,!0)})),i=e.board.taskLists[n].tasks[s];switch(r){case"setTitle":i.title=t.title;break;case"setDueDate":i.dueDate=t.dueDate;break;case"setLabel":i.labels=t.labels;break;case"attachments":i.attachments=t.attachments;break;case"editDesc":i.desc=t.desc;break;case"setChecklists":i.checklists=t.checklists;break;case"setMsgs":i.msgs=t.msgs;break;case"addMember":i.members=t.users;break}e.currTask.id===i.id&&(e.currTask=i),e.board.taskLists[n].tasks.splice(s,1,i)},removeTask:function(e,t){var s,a=e.board.taskLists.findIndex((function(e){var a=e.tasks.findIndex((function(e){return e.id===t}));return-1!==a&&(s=a,!0)}));e.board.taskLists[a].tasks.splice(s,1)},setCurrTask:function(e,t){var s,a=t.taskId;e.currList=e.board.taskLists.find((function(e){var t=e.tasks.find((function(e){return e.id===a}));if(t)return s=t,!0})),e.currTask=s},moveList:function(e,t){var s=t.newIndex,a=t.oldIndex,r=e.board.taskLists.splice(a,1)[0];e.board.taskLists.splice(s,0,r)},removeChangeMoveList:function(e,t){var s=t.oldIndex,a=t.newIndex,r=e.board.taskLists[s],n=e.board.taskLists[a];e.board.taskLists.splice(s,1,n),e.board.taskLists.splice(a,1,r)},removeChangeMoveTask:function(e,t){var s=t.idMoveFrom,a=t.idMoveTo,r=t.oldIndex,n=t.newIndex,i=e.board.taskLists.find((function(e){return e.id===s})),o=e.board.taskLists.find((function(e){return e.id===a})),c=o.tasks[n];i.tasks.splice(r,0,c),o.tasks.splice(n,1)},moveTask:function(e,t){var s=t.idMoveFrom,a=t.idMoveTo,r=t.oldIndex,n=t.newIndex,i=e.board.taskLists.findIndex((function(e){return e.id===s})),o=e.board.taskLists.findIndex((function(e){return e.id===a})),c=e.board.taskLists[i].tasks.splice(r,1)[0];e.board.taskLists[o].tasks.splice(n,0,c)},setListTitle:function(e,t){var s=t.taskListId,a=t.title,r=e.board.taskLists.find((function(e){return e.id===s}));r.title=a},changeTask:function(e,t){var s,a=e.board.taskLists.find((function(e){var a=e.tasks.findIndex((function(e){return e.id===t.id}));if(-1!==a)return s=a,!0}));a.tasks.splice(s,1,t)},changeTitleBoard:function(e,t){e.board.title=t},saveUsersBoard:function(e,t){var s=t.users;e.board.users=s}},getters:{currBoard:function(e){return e.currBoard},board:function(e){return e.board},currTask:function(e){return e.currTask},currList:function(e){return JSON.parse(JSON.stringify(e.currList))}},actions:{getBoards:function(e,t){var s=t.userId;return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra.query(s);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e["catch"](0),console.log("im in catch of getboards");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getBoard:function(e,t){var s=t.boardId;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ra.getById(s);case 3:return a=t.sent,e.commit("setBoard",a),t.abrupt("return",a);case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},addBoard:function(e,t){var s=t.user,a=t.prefs;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ra.addBoard(s,a);case 3:return r=t.sent,e.commit("setBoard",r),t.abrupt("return",r);case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},saveBoard:function(e,t){var s=t.updatedBoard;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("setBoard",s),t.next=5,Ra.save(e.state.board);case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},saveList:function(e,t){t.list;return Object(c["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("setBoard",updatedBoard),t.next=5,Ra.save(e.state.board);case 5:return a=t.sent,t.abrupt("return",a);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",s);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},addList:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=JSON.parse(JSON.stringify(e.state.board)),a=Ra.getEmptyList(e.state.board._id),t.prev=2,e.commit("addList",a),t.next=6,Ra.putData(e.state.board._id,{type:"addList",newList:a});case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t["catch"](2),e.commit("setBoard",s);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},removeList:function(e,t){var s=t.taskListId;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("removeList",s),t.next=5,Ra.putData(e.state.board._id,{type:"removeTaskList",taskListId:s});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getTask:function(e,t){var s=t.taskId,a=t.boardId;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(e.state.board)),n={taskId:s,boardId:a},t.prev=2,t.next=5,Ra.getById(a);case 5:return i=t.sent,e.commit("setBoard",i),e.commit("setCurrTask",n),t.abrupt("return",e.getters.currTask);case 11:t.prev=11,t.t0=t["catch"](2),e.commit("setBoard",r);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},saveTask:function(e,t){var s=t.objSave;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("saveTask",s),t.next=5,Ra.putData(e.state.board._id,{type:"saveTask",objSave:s});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},addTask:function(e,t){var s=t.taskListId,a=t.newTask;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(e.state.board)),n=Ra.getEmptyTask(e.state.board._id),n.title=a.title,i={task:n,taskListId:s},t.prev=4,e.commit("addTask",i),t.next=8,Ra.putData(e.state.board._id,{type:"addTask",task:n,taskListId:s});case 8:return o=t.sent,t.abrupt("return",o);case 12:t.prev=12,t.t0=t["catch"](4),e.commit("setBoard",r);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},removeTask:function(e,t){var s=t.taskId;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("removeTask",s),t.next=5,Ra.putData(e.state.board._id,{type:"removeTask",taskId:s});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},moveList:function(e,t){var s=t.oldIndex,a=t.newIndex;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={oldIndex:s,newIndex:a},t.prev=1,t.next=4,Ra.putData(e.state.board._id,{type:"moveList",oldIndex:s,newIndex:a});case 4:return n=t.sent,t.abrupt("return",n);case 8:t.prev=8,t.t0=t["catch"](1),e.commit("moveListAgain",r);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},moveTask:function(e,t){var s=t.idMoveFrom,a=t.idMoveTo,r=t.oldIndex,n=t.newIndex;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={idMoveFrom:s,idMoveTo:a,oldIndex:r,newIndex:n},t.prev=1,t.next=4,Ra.putData(e.state.board._id,{type:"moveTask",idMoveFrom:s,idMoveTo:a,oldIndex:r,newIndex:n});case 4:return o=t.sent,t.abrupt("return",o);case 8:t.prev=8,t.t0=t["catch"](1),e.commit("removeChangeMoveTask",i);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},setListTitle:function(e,t){var s=t.taskListId,a=t.title;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("setListTitle",{taskListId:s,title:a}),t.next=5,Ra.putData(e.state.board._id,{type:"setListTitle",taskListId:s,title:a});case 5:return n=t.sent,t.abrupt("return",n);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",r);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},changeTitleBoard:function(e,t){var s=t.title;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("changeTitleBoard",s),t.next=5,Ra.putData(e.state.board._id,{type:"changeTitleBoard",title:s});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},changeTask:function(e,t){var s=t.task;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("changeTask",s);case 1:case"end":return t.stop()}}),t)})))()},saveUsersBoard:function(e,t){var s=t.users;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.board)),t.prev=1,e.commit("saveUsersBoard",s),t.next=5,Ra.putData(e.state.board._id,{type:"saveUsersBoard",users:s});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t["catch"](1),e.commit("setBoard",a);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},dataFromSocket:function(e,t){var s=t.data;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=s.type,t.next="saveUsersBoard"===t.t0?3:"changeTitleBoard"===t.t0?5:"removeTaskList"===t.t0?7:"moveList"===t.t0?9:"moveTask"===t.t0?11:"addTask"===t.t0?13:"addList"===t.t0?15:"setListTitle"===t.t0?17:"removeTask"===t.t0?19:"saveTask"===t.t0?21:23;break;case 3:return e.commit("saveUsersBoard",s.users),t.abrupt("break",23);case 5:return e.commit("changeTitleBoard",s.title),t.abrupt("break",23);case 7:return e.commit("removeList",s.taskListId),t.abrupt("break",23);case 9:return e.commit("moveList",s),t.abrupt("break",23);case 11:return e.commit("moveTask",s),t.abrupt("break",23);case 13:return e.commit("addTask",s),t.abrupt("break",23);case 15:return e.commit("addList",s.newList),t.abrupt("break",23);case 17:return e.commit("setListTitle",s),t.abrupt("break",23);case 19:return e.commit("removeTask",s.taskId),t.abrupt("break",23);case 21:return e.commit("saveTask",s.objSave),t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})))()}}};a["default"].use(ma["a"]);var Pa=new ma["a"].Store({state:{},mutations:{},actions:{},modules:{userStore:Ia,boardStore:Ja}}),Fa=(s("b7e3"),s("15f5"),s("7051"),s("1881")),za=s.n(Fa),Ya=s("5c96"),Xa=s.n(Ya),qa=(s("0fae"),s("b2d6")),Wa=s.n(qa);s("a15b");a["default"].filter("short-name",(function(e){var t=e.split(" "),s=t.map((function(e){return e.charAt(0)})).join("");return s.length>2&&(s=s[0]+s[1]),s})),a["default"].use(za.a,{dynamic:!0,dynamicDefaults:{clickToClose:!1}}),a["default"].use(Xa.a,{locale:Wa.a}),a["default"].config.productionTip=!1,new a["default"]({router:la,store:Pa,render:function(e){return e(b)}}).$mount("#app")},"5b04":function(e,t,s){"use strict";var a=s("9d40"),r=s.n(a);r.a},"7ade":function(e,t,s){},"9d40":function(e,t,s){},b7e3:function(e,t,s){},ba2b:function(e,t,s){},c79f:function(e,t,s){"use strict";var a=s("ba2b"),r=s.n(a);r.a}});
//# sourceMappingURL=app.a217ab57.js.map