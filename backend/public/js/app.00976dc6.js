(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0bf2":function(t,e,s){"use strict";var a=s("7ade"),n=s.n(a);n.a},1:function(t,e){},1190:function(t,e,s){"use strict";var a=s("11dd"),n=s.n(a);n.a},"11dd":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="4678"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header-cmp"),s("router-view")],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"header-cmp"},[t._m(0),s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"logo"},[s("h1",[t._v("Jello")])])]),s("div",{staticClass:"user-settings"},[t._m(1),t._m(2),s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"User Settings"},on:{click:t.doLogout}},[s("i",{staticClass:"fa fa-sign-out-alt"})])])],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"boards-menu"},[s("button",{staticClass:"boards-btn btn"},[s("i",{staticClass:"fab fa-trello boards-btn-icon"}),t._v("Boards ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"Notifications"}},[s("i",{staticClass:"fas fa-bell",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"user-settings-btn btn",attrs:{"aria-label":"User Settings"}},[s("i",{staticClass:"fas fa-user-circle",attrs:{"aria-hidden":"true"}})])}],c=(s("96cf"),s("1da1")),u={methods:{doLogout:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"logout"});case 2:t.$router.push({path:"/"});case 3:case"end":return e.stop()}}),e)})))()}}},l=u,d=s("2877"),h=Object(d["a"])(l,i,o,!1,null,null,null),f=h.exports,m={components:{headerCmp:f}},p=m,v=Object(d["a"])(p,n,r,!1,null,null,null),g=v.exports,b=s("9483");Object(b["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var k,y=s("8c4f"),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("router-link",{attrs:{to:"/signup"}},[t._v("Sign Up")]),t._v("| "),s("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)},w=[],T={name:"Home",data:function(){return{boards:[]}},created:function(){this.$store.getters.loggedinUser&&this.$router.push({path:"/userPage"})}},_=T,x=Object(d["a"])(_,C,w,!1,null,null,null),j=x.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signup-container"},[s("div",{staticClass:"signup"},[s("div",{staticClass:"bg"}),s("form",[t._m(0),s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",name:"",placeholder:"Email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",name:"",placeholder:"User Name"},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password",name:"",placeholder:"Password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}})])]),s("footer",[s("button",{staticClass:"signup-btn",on:{click:t.doSignup}},[t._v("Signup")]),s("p",[t._v(" Do you have an account already? "),s("router-link",{attrs:{to:"/login"}},[s("a",{attrs:{href:"#"}},[t._v("Login")])])],1)])])])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("img",{attrs:{src:"https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/reading_0re1.svg"}})])}],M=s("5530"),I={name:"signup",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.signupCred,!t.validateEmail(s.email)&&s.password&&s.username){e.next=3;break}return e.abrupt("return",t.msg="Please fill up the form");case 3:return e.next=5,t.$store.dispatch({type:"signup",userCred:s});case 5:t.$router.push({path:"/userPage"});case 6:case"end":return e.stop()}}),e)})))()},validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}},watch:{loggedinUser:function(){this.userToEdit=Object(M["a"])({},this.loggedinUser)}}},D=I,$=Object(d["a"])(D,O,S,!1,null,null,null),L=$.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"login"},[s("div",{staticClass:"bg"}),s("form",[t._m(0),s("div",{staticClass:"inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",name:"",placeholder:"Email"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password",name:"",placeholder:"Password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}})])]),s("footer",[s("button",{staticClass:"login-btn",on:{click:t.doLogin}},[t._v("Login")]),s("p",[t._v("Don't have an account? "),s("router-link",{attrs:{to:"/signup"}},[s("a",{attrs:{href:"#"}},[t._v("Sign Up")])])],1)])])])},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("img",{attrs:{src:"https://42f2671d685f51e10fc6-b9fcecea3e50b3b59bdc28dead054ebc.ssl.cf5.rackcdn.com/illustrations/reading_0re1.svg"}})])}],B={name:"test",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogin:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.loginCred,s.email&&s.password){e.next=3;break}return e.abrupt("return",t.msg="Please enter user/password");case 3:return e.next=5,t.$store.dispatch({type:"login",userCred:s});case 5:t.loginCred={},t.$router.push({path:"/userPage"});case 7:case"end":return e.stop()}}),e)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(t){this.$store.dispatch({type:"removeUser",userId:t})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})}},watch:{loggedinUser:function(){this.userToEdit=Object(M["a"])({},this.loggedinUser)}}},R=B,U=Object(d["a"])(R,N,E,!1,null,null,null),P=U.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-page"},[s("h1",[t._v("Hello "+t._s(t.user.name))]),s("div",{staticClass:"add-new-board-container"},[s("button",{staticClass:"btn-board btn-shadow",on:{click:function(e){t.isAddNewBoard=!t.isAddNewBoard}}},[t._v("Add new board")]),t.isAddNewBoard?s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.isAddNewBoard=!1}}}):t._e(),t.isAddNewBoard?s("add-board",{on:{addNewBoard:t.addNewBoard}}):t._e()],1),t._l(t.user.boards,(function(t){return s("div",{key:t._id})})),s("div",{staticClass:"cards-container"},t._l(t.boards,(function(e){return s("board-card",{key:e._id,class:"board-card "+e.title,attrs:{board:e,"data-image":e.background}},[s("h1",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),s("p",{attrs:{slot:"content"},slot:"content"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit.")])])})),1)],2)},J=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"add-members"},[s("div",{staticClass:"search-form"},[t.userFilter.txt?s("div",{staticClass:"select-user"},t._l(t.usersToView,(function(e){return s("div",{key:e._id,staticClass:"search-option",attrs:{value:e},on:{click:function(s){return t.addMember(e)}}},[t._v(t._s(e.name))])})),0):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userFilter.txt,expression:"userFilter.txt"}],staticClass:"search-input",attrs:{type:"search",placeholder:"Add User"},domProps:{value:t.userFilter.txt},on:{blur:t.close,input:[function(e){e.target.composing||t.$set(t.userFilter,"txt",e.target.value)},t.filter]}}),s("button",{staticClass:"search-button"},[s("svg",{staticClass:"submit-button",attrs:{viewBox:"0 0 30 30"}},[s("path",{attrs:{d:"M 19.5 3 C 14.26514 3 10 7.2651394 10 12.5 C 10 14.749977 10.810825 16.807458 12.125 18.4375 L 3.28125 27.28125 L 4.71875 28.71875 L 13.5625 19.875 C 15.192542 21.189175 17.250023 22 19.5 22 C 24.73486 22 29 17.73486 29 12.5 C 29 7.2651394 24.73486 3 19.5 3 z M 19.5 5 C 23.65398 5 27 8.3460198 27 12.5 C 27 16.65398 23.65398 20 19.5 20 C 15.34602 20 12 16.65398 12 12.5 C 12 8.3460198 15.34602 5 19.5 5 z"}})])])])])},z=[],Y=(s("4de4"),s("7db0"),s("b0c0"),{props:{users:{type:Array},currBoardUsers:{type:Array}},data:function(){return{userFilter:{txt:""}}},methods:{filter:function(){this.$emit("filter",this.userFilter)},addMember:function(t){var e={_id:t._id,name:t.name,email:t.email},s=JSON.parse(JSON.stringify(this.currBoardUsers));s.push(e),this.$emit("updateBoardUsers",s),this.userFilter.txt=""},close:function(){var t=this;setTimeout((function(){t.userFilter.txt=""}),200)}},computed:{usersToView:function(){var t=this;return this.users.filter((function(e){return!t.currBoardUsers.find((function(t){return t._id===e._id}))}))}}}),X=Y,q=Object(d["a"])(X,F,z,!1,null,null,null),H=q.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"card",staticClass:"card-wrap",on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[s("router-link",{attrs:{to:"/"+t.board._id}},[s("div",{staticClass:"card",style:t.cardStyle},[t.isImage?s("div",{staticClass:"card-bg",style:[t.cardBgTransform,t.cardBgImage]}):s("div",{staticClass:"card-bg",style:"background-color: "+this.dataImage+" ;"}),s("div",{staticClass:"card-info"},[t._t("header"),t._t("content")],2)])])],1)},V=[],G=(s("99af"),s("caad"),s("2532"),{created:function(){this.dataImage.includes("http")&&(this.isImage=!0,this.dataImage)},mounted:function(){this.width=this.$refs.card.offsetWidth,this.height=this.$refs.card.offsetHeight},props:["dataImage","board"],data:function(){return{width:0,height:0,mouseX:0,mouseY:0,mouseLeaveDelay:null,isImage:!1}},computed:{mousePX:function(){return this.mouseX/this.width},mousePY:function(){return this.mouseY/this.height},cardStyle:function(){var t=30*this.mousePX,e=-30*this.mousePY;return{transform:"rotateY(".concat(t,"deg) rotateX(").concat(e,"deg)")}},cardBgTransform:function(){var t=-40*this.mousePX,e=-40*this.mousePY;return{transform:"translateX(".concat(t,"px) translateY(").concat(e,"px)")}},cardBgImage:function(){return{backgroundImage:"url(".concat(this.dataImage,")")}}},methods:{handleMouseMove:function(t){this.mouseX=t.pageX-this.$refs.card.offsetLeft-this.width/2,this.mouseY=t.pageY-this.$refs.card.offsetTop-this.height/2},handleMouseEnter:function(){clearTimeout(this.mouseLeaveDelay)},handleMouseLeave:function(){var t=this;this.mouseLeaveDelay=setTimeout((function(){t.mouseX=0,t.mouseY=0}),1e3)}}}),K=G,Z=Object(d["a"])(K,W,V,!1,null,null,null),Q=Z.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"container",staticClass:"mini-modal"},[s("h3",[t._v("New Board")]),s("h4",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.prefsObj.title,expression:"prefsObj.title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:t.prefsObj.title},on:{input:function(e){e.target.composing||t.$set(t.prefsObj,"title",e.target.value)}}}),s("h4",[t._v("Choose color or Background")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.prefsObj.style.background,expression:"prefsObj.style.background"}],attrs:{type:"color"},domProps:{value:t.prefsObj.style.background},on:{input:function(e){e.target.composing||t.$set(t.prefsObj.style,"background",e.target.value)}}}),s("button",{on:{click:t.openFile}},[s("i",{staticClass:"fas fa-file-image"}),s("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*",hidden:""},on:{change:t.uploadImg}})]),s("button",{on:{click:t.addNewBoard}},[t._v("Add!")])])},et=[],st=(s("4160"),s("159b"),s("d3b7"),"dy31deyp1"),at="g1gyj9ce",nt="https://api.cloudinary.com/v1_1/".concat(st,"/image/upload"),rt=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=new FormData,s.append("file",e),s.append("upload_preset",at),t.prev=3,t.next=6,fetch(nt,{method:"POST",body:s});case 6:return a=t.sent,t.next=9,a.json();case 9:return n=t.sent,t.abrupt("return",n);case 13:return t.prev=13,t.t0=t["catch"](3),console.log(t.t0),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),it={uploadImg:rt},ot={data:function(){return{prefsObj:{title:"choose title",style:{background:"#FFFFF"},public:!0}}},created:function(){},methods:{addNewBoard:function(){this.$emit("addNewBoard",this.prefsObj)},addImageToPrefObj:function(t){this.prefsObj.style.background=t.url},openFile:function(){this.$refs.fileInput.click()},uploadImg:function(t){var e=this,s=t.target.files;s.forEach((function(t){it.uploadImg(t).then((function(t){var s={width:t.width,height:t.height,format:t.format,created:t.created_at,url:t.url,fileName:t.original_filename};e.addImageToPrefObj(s)}))}))}},components:{imgService:it}},ct=ot,ut=Object(d["a"])(ct,tt,et,!1,null,null,null),lt=ut.exports,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"window-overlay",style:t.objStyle,on:{click:t.close}})},ht=[],ft={props:{dark:{type:Boolean,default:!0}},methods:{close:function(){this.$emit("close")}},computed:{objStyle:function(){if(this.dark)return{"background-color":"#000",opacity:.8}}}},mt=ft,pt=(s("0bf2"),Object(d["a"])(mt,dt,ht,!1,null,null,null)),vt=pt.exports,gt={name:"user-page",data:function(){return{user:{},boards:[],isAddNewBoard:!1}},created:function(){console.log(this.boards),this.user=this.$store.getters.loggedinUser,console.log(this.user),this.getBoardsFromStore()},methods:{addMembers:function(t){t.isAddMembers=!t.isAddMembers},getBoardsFromStore:function(){var t=this;this.$store.dispatch({type:"getBoards",userId:this.$store.getters.loggedinUser._id}).then((function(e){return t.boards=e}))},addNewBoard:function(t){this.$store.dispatch({type:"addBoard",user:this.$store.getters.loggedinUser,prefs:t}),this.getBoardsFromStore()}},components:{addMembers:H,boardCard:Q,addBoard:lt,windowOverlay:vt}},bt=gt,kt=(s("c79f"),Object(d["a"])(bt,A,J,!1,null,null,null)),yt=kt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boardData?s("main",{staticClass:"board",style:t.style},[s("nav-board",{attrs:{boardData:t.boardData},on:{changeTitle:t.changeTitle}}),s("div",{staticClass:"lists-canvas"},[s("draggable",t._b({ref:"taskListsLection",staticClass:"lists-container",attrs:{handle:".title",tag:"section",draggable:".unit-task-list-container","ghost-class":"ghost"},on:{end:t.move},model:{value:t.boardData.taskLists,callback:function(e){t.$set(t.boardData,"taskLists",e)},expression:"boardData.taskLists"}},"draggable",t.dragOptions,!1),[t._l(t.boardData.taskLists,(function(t){return s("div",{key:t.id,staticClass:"unit-task-list-container"},[s("task-list",{attrs:{"task-list-data":t}})],1)})),s("button",{staticClass:"add-list-btn btn",on:{click:t.createList}},[t._v("Add a list")])],2)],1),s("router-view")],1):t._e()},wt=[],Tt=s("310e"),_t=s.n(Tt),xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:t.taskListData.id,staticClass:"task-list"},[s("div",{staticClass:"title"},[t.editTitleMode?s("input",{directives:[{name:"model",rawName:"v-model",value:t.copyTitle,expression:"copyTitle"}],ref:"editTitle",staticClass:"edit-title-list",attrs:{placeholder:"Title",type:"text"},domProps:{value:t.copyTitle},on:{keydown:t.onKeyEditTitle,blur:t.blurEditTitle,input:function(e){e.target.composing||(t.copyTitle=e.target.value)}}}):s("h2",{on:{click:t.startEditTitle}},[t._v(t._s(t.taskListData.title))]),s("button",{on:{click:function(e){t.barIsOpen=!0}}},[s("i",{staticClass:"fa fa-ellipsis-h"})]),t.barIsOpen?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.barIsOpen=!1}}}),s("div",{staticClass:"bar-action-list"},[s("button",{on:{click:t.removeList}},[t._v("Delete List")])])]:t._e()],2),s("div",{staticClass:"list-items"},[s("draggable",t._b({attrs:{draggable:".task-preview-container"},on:{end:t.endMove},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},"draggable",t.dragOptions,!1),[s("transition-group",{attrs:{type:"transition",tag:"div","data-id":t.taskListData.id,name:t.taskListData.id}},t._l(t.tasks,(function(t){return s("task-preview",{key:t.id,attrs:{task:t}})})),1)],1)],1),t.addTaskMode?s("div",{staticClass:"add-task-aria"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],ref:"inputTxtAddTask",attrs:{type:"text"},domProps:{value:t.newTask.title},on:{blur:t.closeAddTaskMode,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createTask(e)},input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}}),s("button",{staticClass:"create",on:{click:t.createTask}},[t._v("Add")])]):s("button",{staticClass:"add-card-btn btn",on:{click:t.startAddTaskMode}},[t._v("Add a card")])])},jt=[],Ot=s("3d20"),St=s.n(Ot),Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-preview-container"},[s("router-link",{attrs:{to:"/task/"+t.task.id}},[s("section",{staticClass:"task-preview"},[t.coverUrl?s("img",{attrs:{src:t.coverUrl,alt:"task.title"}}):t._e(),s("div",{staticClass:"details"},[t.labels.length?s("div",{staticClass:"label-container"},t._l(t.labels,(function(t){return s("span",{key:t,staticClass:"label",style:{"background-color":t}})})),0):t._e(),s("h4",[t._v(t._s(t.task.title))]),s("div",{staticClass:"mini-details"},[s("div",{staticClass:"oders"},[t.desc?s("i",{staticClass:"fa fa-align-left"}):t._e(),t.dueDate?s("span",[t._v(t._s(t.dueDate))]):t._e(),t.checks?s("span",[s("i",{staticClass:"far fa-check-square"}),t._v(" "+t._s(t.finishChecks)+"/"+t._s(t.checks)+" ")]):t._e(),t.attachment?s("span",[s("i",{staticClass:"fa fa-image"}),t._v(" "+t._s(t.attachment)+" ")]):t._e(),t.msgsCount?s("span",[s("i",{staticClass:"far fa-comment-alt"}),t._v(" "+t._s(t.msgsCount)+" ")]):t._e()]),t.users.length?s("span",{staticClass:"users"},t._l(t.users,(function(t){return s("avatar-user",{key:t.id,attrs:{user:t}})})),1):t._e()])])])])],1)},It=[],Dt=(s("d81d"),s("13d5"),s("ac1f"),s("1276"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"avatar-user"},[t.user.avatar&&t.user.avatar.includes(".com")?s("img",{attrs:{src:t.user.avatar}}):s("span",{staticClass:"txt"},[t._v(t._s(t._f("short-name")(t.user.name)))])])}),$t=[],Lt={props:{user:Object}},Nt=Lt,Et=(s("5b04"),Object(d["a"])(Nt,Dt,$t,!1,null,null,null)),Bt=Et.exports,Rt=s("c1df"),Ut=s.n(Rt),Pt={props:{task:Object},computed:{checks:function(){return this.task.checklists.reduce((function(t,e){return t+e.checkItems.length}),0)},finishChecks:function(){return this.task.checklists.reduce((function(t,e){return t+e.checkItems.filter((function(t){return t.isDone})).length}),0)},labels:function(){return this.task.labels.map((function(t){return t.color}))},users:function(){return this.task.members},desc:function(){return!!this.task.desc},msgsCount:function(){return this.task.msgs.length},attachment:function(){return this.task.attachments.length},coverUrl:function(){return!!this.task.cover&&this.task.cover.url},dueDate:function(){var t=this.task.dueDate[1];if(t){var e=new Date(t),s=Ut()(e).format("ll").split(",")[0];return s}return!1}},components:{avatarUser:Bt}},At=Pt,Jt=Object(d["a"])(At,Mt,It,!1,null,null,null),Ft=Jt.exports,zt=s("8055"),Yt=s.n(zt),Xt="/",qt=function(){k=Yt()(Xt)},Ht=function(){k=null},Wt=function(t,e){k.on(t,e)},Vt=function(t,e){k.off(t,e)},Gt=function(t,e){k.emit(t,e)},Kt=function(){return k.id},Zt={setup:qt,terminate:Ht,on:Wt,off:Vt,emit:Gt,getSocketId:Kt},Qt={props:{taskListData:Object},data:function(){return{addTaskMode:!1,newTask:{title:""},editTitleMode:!1,copyTitle:"",barIsOpen:!1}},created:function(){this.taskListData.isNew&&(this.startEditTitle(),this.$store.commit("endAddList",this.taskListData))},computed:{tasks:{get:function(){return this.taskListData.tasks},set:function(t){this.taskListData.tasks=t}},dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"task-list-items"}}},methods:{startAddTaskMode:function(){var t=this;this.addTaskMode=!0,setTimeout((function(){t.$refs.inputTxtAddTask.focus()}),0)},closeAddTaskMode:function(){var t=this;setTimeout((function(){t.newTask.title="",t.addTaskMode=!1}),150)},endMove:function(t){var e=t.oldIndex,s=t.newIndex,a=t.from,n=t.to,r=a.dataset.id,i=n.dataset.id;this.$store.dispatch({type:"moveTask",idMoveFrom:r,idMoveTo:i,oldIndex:e,newIndex:s}).then((function(){Zt.emit("change board")}))},keydownNewTask:function(t){"Enter"===t.key&&this.createTask()},createTask:function(){var t=this;""!==this.newTask.title&&(this.addTaskMode=!1,this.$store.dispatch({type:"addTask",taskListId:this.taskListData.id,newTask:this.newTask}).then((function(e){t.newTask.title="",Zt.emit("change board")})))},deleteList:function(){this.addTaskMode=!1,this.$store.dispatch({type:"removeList",listId:this.taskListData.id}).then((function(t){console.log("list deleted",t)}))},startEditTitle:function(){var t=this;this.editTitleMode=!0,this.copyTitle=this.taskListData.title,setTimeout((function(){var e=t.$refs.editTitle;e.focus()}),0)},onKeyEditTitle:function(t){"Enter"===t.key&&this.blurEditTitle()},blurEditTitle:function(){this.editTitleMode=!1,this.$store.dispatch({type:"setListTitle",taskListId:this.taskListData.id,title:this.copyTitle})},removeList:function(){var t=this;St.a.fire({title:"Are you sure of You won't remove the List?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&t.$store.dispatch({type:"removeList",taskListId:t.taskListData.id}).then((function(){St.a.fire("Deleted!","Your list has been deleted.","success"),Zt.emit("change board")}))}))}},components:{taskPreview:Ft,draggable:_t.a,windowOverlay:vt}},te=Qt,ee=Object(d["a"])(te,xt,jt,!1,null,null,null),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"nav-board"},[s("div",{staticClass:"board-controls"},[s("button",{staticClass:"board-title btn",class:{action:t.editTitleMode}},[t.editTitleMode?s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleToChange,expression:"titleToChange"}],ref:"inputTitle",style:t.styleInputTitle,attrs:{type:"text"},domProps:{value:t.titleToChange},on:{blur:t.saveTitle,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTitle(e)},input:function(e){e.target.composing||(t.titleToChange=e.target.value)}}}):s("h2",{on:{click:t.changeTitle}},[t._v(t._s(t.boardData.title))])]),t._m(0),s("add-members",{attrs:{users:t.users,currBoardUsers:t.boardData.users},on:{filter:t.filter,updateBoardUsers:t.updateBoardUsers}}),s("div",{staticClass:"members"},t._l(t.boardData.users,(function(t){return s("avatar-user",{key:t.id,attrs:{user:t}})})),1)],1),t._m(1)])},ne=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"star-btn btn",attrs:{"aria-label":"Star Board"}},[s("i",{staticClass:"far fa-star",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"menu-btn btn"},[s("i",{staticClass:"fas fa-ellipsis-h menu-btn-icon",attrs:{"aria-hidden":"true"}}),t._v("Show Menu")])}],re={props:{boardData:Object},data:function(){return{titleToChange:"",editTitleMode:!1,users:[]}},created:function(){},methods:{changeTitle:function(){var t=this;this.editTitleMode=!0,this.titleToChange=this.boardData.title,setTimeout((function(){console.log("object"),t.$refs.inputTitle.focus()}),0)},saveTitle:function(){this.$emit("changeTitle",this.titleToChange),this.editTitleMode=!1},filter:function(t){var e=this;this.$store.dispatch({type:"loadFilter",userFilter:t}).then((function(t){e.getUsersFromStore()}))},updateBoardUsers:function(t){this.$store.dispatch({type:"saveUsersBoard",users:t}).then((function(t){console.log(t)}))},getUsersFromStore:function(){this.users=this.$store.getters.users}},computed:{styleInputTitle:function(){return{width:this.titleToChange.length+"ch"}}},components:{addMembers:H,avatarUser:Bt}},ie=re,oe=Object(d["a"])(ie,ae,ne,!1,null,null,null),ce=oe.exports,ue={created:function(){var t=this,e=this.boardId||this.$route.params.id;this.$store.dispatch({type:"getBoard",boardId:e}).then((function(e){if(!e.failed)return e;t.$router.push("/")})).then((function(e){Zt.setup(),Zt.emit("connect-to-board",e._id),Zt.on("change-data",(function(e){t.$store.dispatch({type:"dataFromSocket",data:e})}))}))},destroyed:function(){Zt.terminate()},methods:{createList:function(){this.$store.dispatch({type:"addList"}).then((function(t){}))},move:function(t){var e=t.oldIndex,s=t.newIndex;this.$store.dispatch({type:"moveList",oldIndex:e,newIndex:s})},changeTitle:function(t){this.$store.dispatch({type:"changeTitleBoard",title:t})}},computed:{boardData:function(){return this.$store.getters.board},style:function(){if(this.boardData.style.background&&!this.boardData.style.background.includes("http"))return{boardData:null}},dragOptions:function(){return{animation:"200",group:"task-list"}}},components:{taskList:se,navBoard:ce,draggable:_t.a}},le=ue,de=Object(d["a"])(le,Ct,wt,!1,null,null,null),he=de.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currTask?s("section",{staticClass:"task-details"},[s("task-modal",{attrs:{currTask:t.currTask,boardId:t.boardId},on:{save:t.saveTask}})],1):t._e()},me=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-modal"},[s("transition",{attrs:{name:"modal"}},[t.isOpen?s("div",[s("div",{staticClass:"overlay",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeModal(e)}}},[t.currTask?s("div",{staticClass:"modal"},[t.taskToSave.cover?s("div",{staticClass:"cover-area"},[s("cover-preview",{attrs:{cover:t.taskToSave.cover}})],1):t._e(),s("div",{staticClass:"title-area"},[s("div",{staticClass:"icon-container"},[s("i",{staticClass:"far fa-caret-square-up"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.taskToSave.title,expression:"taskToSave.title"}],staticClass:"task-title",attrs:{type:"textarea",placeholder:"Title"},domProps:{value:t.taskToSave.title},on:{blur:t.setTitle,keydown:t.keydownTitle,input:function(e){e.target.composing||t.$set(t.taskToSave,"title",e.target.value)}}})]),s("div",{staticClass:"title-info-container"},[s("span",[t._v("in list")]),s("a",{staticClass:"list-name-container",attrs:{href:"#"}},[t._v(t._s(t.listName))])])]),s("div",{staticClass:"detail-area"},[t.currTask?s("div",{staticClass:"date-area"},[t.taskToSave.dueDate?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-calendar-day"}),s("h3",[t._v("Due Date")])]):t._e()]):t._e(),t.taskToSave.members.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-users"}),s("h3",[t._v("Members")])]):t._e(),t.taskToSave.members.length?s("show-members",{attrs:{members:t.taskToSave.members}}):t._e(),t.taskToSave.labels.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-tags"}),s("h3",[t._v("Labels")])]):t._e(),t.taskToSave.labels.length?s("label-preview",{on:{input:function(e){return t.save("setLabel",{labels:t.taskToSave.labels})}},model:{value:t.taskToSave.labels,callback:function(e){t.$set(t.taskToSave,"labels",e)},expression:"taskToSave.labels"}}):t._e(),s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-align-justify"}),s("h3",[t._v("Description")])]),t.editDesc?s("div",{staticClass:"desc-container"},[s("textarea-autosize",{ref:"descriptionTextarea",staticClass:"description-container",attrs:{placeholder:"Add a more detailed descriptionâ€¦",cols:"65",rows:"5"},nativeOn:{blur:function(e){return t.saveDesc(e)}},model:{value:t.taskToSave.desc,callback:function(e){t.$set(t.taskToSave,"desc",e)},expression:"taskToSave.desc"}}),s("button",{on:{click:t.saveDesc}},[t._v("Save")])],1):s("p",{staticClass:"description-text",on:{click:t.startEditDesc}},[t._v(t._s(t.descToView))]),t.taskToSave.checklists?s("checklist-list",{attrs:{boardId:t.boardId,checklists:t.taskToSave.checklists},on:{save:t.saveCheckList}}):t._e(),t.taskToSave.attachments.length?s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-file-image"}),s("h3",[t._v("Attachments")])]):t._e(),t.taskToSave.attachments.length?s("file-preview",{on:{"add-attachment":t.openFile,input:function(e){return t.save("attachments",{attachments:t.taskToSave.attachments})}},model:{value:t.taskToSave.attachments,callback:function(e){t.$set(t.taskToSave,"attachments",e)},expression:"taskToSave.attachments"}}):t._e(),s("div",{staticClass:"icon-container"},[s("i",{staticClass:"far fa-comment-dots"}),s("h3",[t._v("Activity")])]),s("activity-chat",{attrs:{user:t.loggedinUser,massages:t.taskToSave.msgs},on:{save:t.saveMsgs}})],1),s("div",{staticClass:"add-area"},[s("div",[t.isJoin?t._e():s("button",{on:{click:t.join}},[s("i",{staticClass:"fas fa-plus"}),t._v(" Join ")])]),s("h3",[t._v("ADD TO CARD")]),s("div",{staticClass:"add-members-container"},[s("button",{ref:"members",on:{click:t.openMembers}},[s("i",{staticClass:"fas fa-users"}),t._v(" Members ")])]),t.addMemberMode?s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.addMemberMode=!1}}}):t._e(),t.addMemberMode?s("add-member-to-task",{style:t.miniModalPosition,attrs:{board:t.board},on:{input:function(e){return t.save("addMember",{users:t.taskToSave.members})}},model:{value:t.taskToSave.members,callback:function(e){t.$set(t.taskToSave,"members",e)},expression:"taskToSave.members"}}):t._e(),s("div",{staticClass:"edit-labels-container"},[s("button",{ref:"labels",on:{click:t.openLabels}},[s("i",{staticClass:"fas fa-tags"}),t._v(" Labels ")]),t.addLabelMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.addLabelMode=!1}}}),s("label-picker",{style:t.miniModalPosition,on:{input:function(e){return t.save("setLabel",{labels:t.taskToSave.labels})}},model:{value:t.taskToSave.labels,callback:function(e){t.$set(t.taskToSave,"labels",e)},expression:"taskToSave.labels"}})]:t._e()],2),s("div",{staticClass:"add-chacklist-container"},[s("button",{ref:"checkList",on:{click:t.openCheckList}},[s("i",{staticClass:"fas fa-tasks"}),t._v(" Checklist ")]),t.addCheckListMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.addCheckListMode=!1}}}),s("add-checklist",{style:t.miniModalPosition,on:{close:function(e){t.addCheckListMode=!1},add:t.addChecklist}})]:t._e()],2),s("div",[s("button",{ref:"date",on:{click:t.openDueDate}},[s("i",{staticClass:"fas fa-calendar-day"}),t._v(" Due Date ")])]),t.addDateMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.addDateMode=!1}}}),t.currTask.dueDate.length||t.addDateMode?s("date-picker",{staticClass:"mini-modal",on:{input:function(e){return t.save("setDueDate",{dueDate:t.taskToSave.dueDate})}},model:{value:t.taskToSave.dueDate,callback:function(e){t.$set(t.taskToSave,"dueDate",e)},expression:"taskToSave.dueDate"}}):t._e()]:t._e(),s("div",[s("button",{on:{click:t.openFile}},[s("i",{staticClass:"fas fa-file-image"}),s("input",{ref:"fileInput",attrs:{type:"file",accept:"image/*",multiple:"",hidden:""},on:{change:t.uploadImg}}),t._v(" Attachment ")])]),s("div",[s("div",{staticClass:"edit-cover-container"},[s("button",{ref:"cover",on:{click:t.openCover}},[s("i",{staticClass:"fas fa-portrait"}),t._v(" Cover ")]),t.isCoverMode?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.isCoverMode=!1}}}),s("cover-picker",{staticClass:"cover-picker",style:t.miniModalPosition,attrs:{covers:t.taskToSave.attachments},on:{input:function(e){return t.save("setCover",{cover:{url:t.taskToSave.cover.url}})}},model:{value:t.taskToSave.cover,callback:function(e){t.$set(t.taskToSave,"cover",e)},expression:"taskToSave.cover"}})]:t._e()],2)]),s("div",{staticClass:"remove"},[s("button",{on:{click:t.startRemoveTask}},[s("i",{staticClass:"fas fa-trash-alt"}),t._v(" Remove ")])])],2)]):t._e()])]):t._e()])],1)},ve=[],ge=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},be={makeId:ge},ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"calendar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"text",placeholder:"Pick a date"},domProps:{value:t.date},on:{focus:function(e){return t.focus()},blur:function(e){return t.blur()},input:function(e){e.target.composing||(t.date=e.target.value)}}}),t.active?s("div",{staticClass:"calendar-layout",on:{mousedown:function(t){t.preventDefault()}}},[s("div",{staticClass:"calendar-header"},[s("div",{staticClass:"row"},[s("span",{on:{click:function(e){return t.setPreviousMonth()}}},[s("i",{staticClass:"material-icons fas fa-chevron-left"})]),s("div",{staticClass:"calendar-title"},[t._v(t._s(t.monthYearFormatted))]),s("span",{on:{click:function(e){return t.setNextMonth()}}},[s("i",{staticClass:"material-icons fas fa-chevron-right"})])]),s("div",{staticClass:"calendar-days"},t._l(t.days,(function(e){return s("div",{key:e,staticClass:"day"},[t._v(t._s(t._f("trimThreeChar")(e)))])})),0)]),s("div",{staticClass:"calendar-body"},t._l(t.calendarDays,(function(e,a){return s("div",{key:a,staticClass:"calendar-row",class:{"swipe-left":t.swipeLeft,"swipe-right":t.swipeRight}},t._l(e,(function(e,a){return s("div",{key:a,staticClass:"calendar-day",class:{disabled:t.isDisabled(e),selected:t.isSelected(e)},style:{height:t.cellHeightUnit},on:{click:function(s){return t.selectDay(e)}}},[t._v(t._s(e.day))])})),0)})),0),s("div",{staticClass:"calendar-footer"})]):t._e()])},ye=[],Ce=(s("fb6a"),s("5319"),s("bf19"),{data:function(){return{date:"",activeDate:"201901",activeDay:"",active:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthes:{"01":"January","02":"February","03":"March","04":"April","05":"May","06":"June","07":"July","08":"August","09":"September",10:"October",11:"November",12:"December"},calendarDays:[],cellHeight:"",swipeLeft:!1,swipeRight:!1}},filters:{trimThreeChar:function(t){return t.substr(0,3)}},computed:{monthYearFormatted:function(){return this.monthes[this.activeDate.substr(4,2)]+" "+this.activeDate.substr(0,4)},cellHeightUnit:function(){return this.cellHeight+"px"}},methods:{focus:function(){this.active=!0,this.cellHeight=this.$el.querySelector("input").offsetWidth/7},blur:function(){this.active=!1},getCurrentDate:function(){return(new Date).toJSON().slice(0,10).replace(/-/g,"/")},getCurrentDay:function(){return(new Date).getDate()},getCurrentMonth:function(){return("0"+((new Date).getMonth()+1)).slice(-2)},getPreviousMonth:function(t){return 1==parseInt(t)?"12":("0"+(parseInt(t)-1)).slice(-2)},getNextMonth:function(t){return 12==parseInt(t)?"01":("0"+(parseInt(t)+1)).slice(-2)},getCurrentYear:function(){return(new Date).getFullYear()},getNumberOfDaysInMonth:function(t,e){return new Date(t,e,0).getDate()},getNumberOfDaysInPreviousMonth:function(t,e){return"01"==e?new Date(t-1,this.getPreviousMonth(e),0).getDate():new Date(t,this.getPreviousMonth(e),0).getDate()},getNumberOfDaysInNextMonth:function(){return"12"==this.getNextMonth()?new Date(this.getCurrentYear()+1,this.getNextMonth(),0).getDate():new Date(this.getCurrentYear(),this.getNextMonth(),0).getDate()},getFirstDayOfMonth:function(t,e){return new Date(t,parseInt(e)-1,1).getDay()-1==-1?6:new Date(t,parseInt(e)-1,1).getDay()-1},getLastDayOfMonth:function(t,e){return new Date(t,parseInt(e)+1,0).getDay()},populateCalendar:function(t,e){this.calendarDays=[];for(var s=this.getFirstDayOfMonth(t,e),a=Math.ceil(this.getNumberOfDaysInMonth(t,e)/7),n=1,r=1,i=0;i<=a;i++){var o=0,c=[];if(0==i){for(var u=0;u<s;u++)1==parseInt(e)?c.push({day:this.getNumberOfDaysInPreviousMonth(t,e)-o,month:this.getPreviousMonth(e),year:parseInt(t)-1}):c.push({day:this.getNumberOfDaysInPreviousMonth(t,e)-o,month:this.getPreviousMonth(e),year:parseInt(t)}),o++;c.reverse()}for(var l=c.length;l<7&&l<this.getNumberOfDaysInMonth(t,e);l++)if(n<=this.getNumberOfDaysInMonth(t,e))c.push({day:n,month:e,year:t}),n++;else for(var d=c.length;d<7;d++){12==parseInt(e)?c.push({day:r,month:this.getNextMonth(e),year:parseInt(t)+1}):c.push({day:r,month:this.getNextMonth(e),year:t}),r++}this.calendarDays.push(c)}},setPreviousMonth:function(){var t=this.activeDate.substr(0,4),e=this.activeDate.substr(4,2);1==parseInt(e)?(t=parseInt(t)-1,e="12"):e=("0"+(parseInt(e)-1)).slice(-2),this.activeDate=t+e,this.populateCalendar(t,e),this.animeSwipeRight()},setNextMonth:function(){var t=this.activeDate.substr(0,4),e=this.activeDate.substr(4,2);12==parseInt(e)?(t=parseInt(t)+1,e="01"):e=("0"+(parseInt(e)+1)).slice(-2),this.activeDate=t+e,this.populateCalendar(t,e),this.animeSwipeLeft()},selectDay:function(t){t.month==this.getPreviousMonth(this.activeDate.substr(4,2))?this.setPreviousMonth():t.month==this.getNextMonth(this.activeDate.substr(4,2))&&this.setNextMonth(),this.activeDay=("0"+t.day).slice(-2)+t.month+t.year,this.date=("0"+t.day).slice(-2)+"/"+t.month+"/"+t.year,this.$emit("input",this.date)},isSelected:function(t){if(("0"+t.day).slice(-2)+t.month+t.year==this.activeDay)return!0},isDisabled:function(t){if(parseInt(t.month)!==parseInt(this.activeDate.substr(4,2)))return!0},animeSwipeLeft:function(){var t=this;this.swipeLeft=!0,setTimeout((function(){t.swipeLeft=!1}),300)},animeSwipeRight:function(){var t=this;this.swipeRight=!0,setTimeout((function(){t.swipeRight=!1}),300)}},mounted:function(){this.populateCalendar(2019,1),this.activeDate=this.getCurrentYear()+this.getCurrentMonth()},props:{value:String},created:function(){this.date=this.value}}),we=Ce,Te=Object(d["a"])(we,ke,ye,!1,null,null,null),_e=Te.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"show-members"},t._l(t.members,(function(t){return s("div",{key:t._id,staticClass:"avatar"},[s("avatar-user",{key:t.id,attrs:{user:t}})],1)})),0)},je=[],Oe={data:function(){return{}},props:{members:Array},components:{avatarUser:Bt}},Se=Oe,Me=Object(d["a"])(Se,xe,je,!1,null,null,null),Ie=Me.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"container",staticClass:"mini-modal"},[s("h3",[t._v("Labels")]),s("ul",{staticClass:"lables-list"},t._l(t.labels,(function(e,a){return s("li",{key:e.id,staticClass:"lable",style:{"background-color":e.color},on:{click:function(s){return t.set(e)}}},[s("div",[t._v(t._s(e.name))]),s("div",[t._v(t._s(t.isActiveMap[a]))])])})),0)])},$e=[],Le=(s("c740"),s("a434"),{props:{value:Array},data:function(){return{labels:[{name:"New Feature",color:"#409eff",inEdit:!1,isActive:!0,id:0},{name:"User stories",color:"#67c23a",inEdit:!1,isActive:!0,id:1},{name:"Task",color:"#909399",inEdit:!1,isActive:!0,id:2},{name:"Issue",color:"#e6a23c",inEdit:!1,isActive:!0,id:3},{name:"Bug",color:"#f56c6c",inEdit:!1,isActive:!0,id:4}]}},created:function(){var t=this;setTimeout((function(){t.$refs.container.focus()}),0)},methods:{set:function(t){var e=this.labelsActive?JSON.parse(JSON.stringify(this.labelsActive)):[],s=this.labelsActive.findIndex((function(e){return e.id===t.id}));-1===s?e.push(t):e.splice(s,1),this.$emit("input",e)}},computed:{labelsActive:function(){return this.value},isActiveMap:function(){var t=this,e=this.labels.map((function(e){return-1!==t.labelsActive.findIndex((function(t){return t.id===e.id}))}));return e.map((function(t){return t?"v":""}))}}}),Ne=Le,Ee=Object(d["a"])(Ne,De,$e,!1,null,null,null),Be=Ee.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.value?s("section",{staticClass:"label-preview"},[s("div",{staticClass:"labels-container"},[t._l(t.labels,(function(e){return s("div",{key:e.id,staticClass:"label",style:{"background-color":e.color},attrs:{type:e.type},on:{click:function(e){t.add=!0}}},[t._v(t._s(e.name))])})),s("button",{staticClass:"add-Label",on:{click:function(e){t.add=!0}}},[s("i",{staticClass:"fas fa-plus"})]),t.add?[s("window-overlay",{attrs:{dark:!1},on:{close:function(e){t.add=!1}}}),s("label-picker",{model:{value:t.labels,callback:function(e){t.labels=e},expression:"labels"}})]:t._e()],2)]):t._e()},Ue=[],Pe={props:{value:Array},data:function(){return{add:!1}},methods:{handleClose:function(t){this.labels[t].isActive=!1},close:function(){var t=this.labels;t||(t=[]),t=t.map((function(t){return t.inEdit=!1,t})),this.$emit("input",t)}},computed:{labels:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},components:{labelPicker:Be,windowOverlay:vt}},Ae=Pe,Je=Object(d["a"])(Ae,Re,Ue,!1,null,null,null),Fe=Je.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.attachments?s("section",{staticClass:"attachment-container"},[t._l(t.attachments,(function(e){return s("div",{key:e.url,staticClass:"attachment"},[s("img",{attrs:{src:e.url}}),s("div",{staticClass:"attachment-info"},[s("div",{staticClass:"attachment-name"},[t._v(t._s(e.fileName))]),s("div",{staticClass:"created"},[t._v("Added "+t._s(t._f("date")(e.created)))]),s("div",{staticClass:"actions"},[s("div",{staticClass:"remove",on:{click:function(s){return t.removeAttachment(e)}}},[s("i",{staticClass:"fas fa-trash-alt"})])])])])})),s("button",{staticClass:"add-attachment",on:{click:function(e){return t.$emit("add-attachment")}}},[t._v("Add attachment")])],2):t._e()},Ye=[],Xe={data:function(){return{attachments:this.value}},props:{value:Array},methods:{removeAttachment:function(t){var e=this.attachments.findIndex((function(e){return e.url===t.url}));this.attachments.splice(e,1),this.$emit("input",this.fileList)}}},qe=Xe,He=Object(d["a"])(qe,ze,Ye,!1,null,null,null),We=He.exports,Ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"container",staticClass:"mini-modal"},[s("h3",[t._v("Members")]),s("ul",{staticClass:"members-users-list"},t._l(t.board.users,(function(e){return s("li",{key:e._id,on:{click:function(s){return t.addMemberToTask(e)}}},[s("avatar-user",{key:e.id,attrs:{user:e}}),s("span",{staticClass:"user-name"},[t._v(t._s(e.name))])],1)})),0)])},Ge=[],Ke={props:{value:Array,board:Object},data:function(){return{members:JSON.parse(JSON.stringify(this.value))}},created:function(){this.board},methods:{addMemberToTask:function(t){var e=this.members.find((function(e){return e._id===t._id}));e||(this.members.push(t),this.$emit("input",this.members))}},components:{avatarUser:Bt}},Ze=Ke,Qe=Object(d["a"])(Ze,Ve,Ge,!1,null,null,null),ts=Qe.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"cover-preview"},[t.cover.url?s("img",{attrs:{src:t.cover.url,alt:""}}):t._e()])},ss=[],as={props:{cover:Object}},ns=as,rs=Object(d["a"])(ns,es,ss,!1,null,null,null),is=rs.exports,os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"container",staticClass:"mini-modal"},[s("h3",[t._v("covers")]),t.covers?s("div",{staticClass:"covers"},t._l(t.covers,(function(e,a){return s("div",{key:e.url,staticClass:"cover",on:{click:function(s){return t.set(e)}}},[e.url?s("img",{attrs:{src:e.url,alt:""}}):t._e(),t.isCovers[a]?s("span",{staticClass:"selected"},[t._v("âœ”ï¸")]):t._e()])})),0):t._e()])},cs=[],us={props:{value:Object,covers:Array},data:function(){return{cover:this.value}},methods:{set:function(t){this.cover=t,this.$emit("input",this.cover)}},computed:{isCovers:function(){var t=this;return this.covers.map((function(e){return e.url===t.cover.url}))}}},ls=us,ds=Object(d["a"])(ls,os,cs,!1,null,null,null),hs=ds.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"activity-chat"},[s("massage-write",{attrs:{user:t.user},on:{"new-msg":t.newMsg}}),t._l(t.massages,(function(e,a){return s("massage-preview",{key:e.createAt,attrs:{msg:e,user:t.user},on:{remove:function(e){return t.removeMsg(a)},"save-msg":function(e){return t.saveMsg(a,e)}}})}))],2)},ms=[],ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"massage-preview"},[s("div",{staticClass:"avatar"},[s("span",{staticClass:"name"},[t._v(t._s(t.msg.user.name)+" :")]),s("span",{staticClass:"time"},[t._v(t._s(t._f("date")(t.msg.createdAt)))])]),s("div",{staticClass:"contain"},[t.inEdit?s("massage-write",{staticClass:"edit-msg",attrs:{editMsg:t.msg,user:t.user},on:{"new-msg":t.saveMsg}}):[s("p",{staticClass:"text",on:{click:function(e){t.inEdit=!0}}},[t._v(t._s(t.msg.txt))])]],2)])},vs=[],gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"massage-write"},[t.editMsg?t._e():s("div",{staticClass:"avatar"},[s("avatar-user",{key:t.user.id,attrs:{user:t.user}})],1),s("form",{on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[s("div",{staticClass:"comment-frame"},[s("div",{staticClass:"comment-box"},[s("textarea-autosize",{ref:"myTextarea",staticClass:"activity-input",attrs:{placeholder:"Write a comment...","min-height":5,"max-height":350},nativeOn:{blur:function(e){return t.send(e)}},model:{value:t.msg.txt,callback:function(e){t.$set(t.msg,"txt",e)},expression:"msg.txt"}}),t.editMsg?t._e():s("button",[t._v("Save")])],1)])])])},bs=[],ks={props:{user:Object,editMsg:Object},data:function(){return{msg:{user:null,txt:""}}},methods:{send:function(){this.msg.txt&&(this.msg.createdAt=this.editMsg?this.editMsg.createdAt:Date.now(),this.$emit("new-msg",this.msg),this.msg.txt="")}},created:function(){this.msg.user={_id:this.user._id,name:this.user.name,avatar:this.user.avatar},this.editMsg&&(this.msg.txt=this.editMsg.txt)},mounted:function(){this.editMsg&&this.$refs.myTextarea.$el.focus()},components:{avatarUser:Bt}},ys=ks,Cs=(s("1190"),Object(d["a"])(ys,gs,bs,!1,null,null,null)),ws=Cs.exports,Ts={props:{msg:Object,user:Object},data:function(){return{inEdit:!1}},computed:{isUser:function(){return this.user._id===this.msg.user._id}},methods:{remove:function(){this.$emit("remove")},saveMsg:function(t){this.inEdit=!1,this.$emit("save-msg",t)}},components:{massageWrite:ws}},_s=Ts,xs=Object(d["a"])(_s,ps,vs,!1,null,null,null),js=xs.exports,Os={props:{massages:Array,user:Object},components:{massagePreview:js,massageWrite:ws},methods:{newMsg:function(t){var e=JSON.parse(JSON.stringify(this.massages));e.unshift(t),this.$emit("save",JSON.parse(JSON.stringify(e)))},removeMsg:function(t){var e=JSON.parse(JSON.stringify(this.massages));e.splice(t,1),this.$emit("save",JSON.parse(JSON.stringify(e)))},saveMsg:function(t,e){var s=JSON.parse(JSON.stringify(this.massages));s.splice(t,1,e),this.$emit("save",JSON.parse(JSON.stringify(s)))}}},Ss=Os,Ms=Object(d["a"])(Ss,fs,ms,!1,null,null,null),Is=Ms.exports,Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"mini-modal add-checklist"},[t._m(0),s("form",{on:{submit:function(e){return e.preventDefault(),t.add(e)}}},[s("label",[s("div",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("button",[t._v("Add")])])])},$s=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h3",[t._v("Checklist")])])}],Ls={data:function(){return{title:""}},methods:{close:function(){this.$emit("close")},add:function(){this.$emit("add",this.title)}}},Ns=Ls,Es=Object(d["a"])(Ns,Ds,$s,!1,null,null,null),Bs=Es.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("draggable",t._b({staticClass:"checklist-list",attrs:{tag:"section",handle:"h3"},on:{end:t.save},model:{value:t.checklistsToSave,callback:function(e){t.checklistsToSave=e},expression:"checklistsToSave"}},"draggable",t.dragOptions,!1),t._l(t.checklistsToSave,(function(e,a){return s("checklist-preview",{key:e.id,attrs:{checklist:e,boardId:t.boardId},on:{move:t.save,chengeChecklist:function(e){return t.chengeChecklist(a,e)}}})})),1)},Us=[],Ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"checklist-preview"},[s("div",{staticClass:"icon-container"},[s("i",{staticClass:"fas fa-tasks"}),s("div",{staticClass:"checklist-title"},[t.changeTitleMode?s("input",{directives:[{name:"model",rawName:"v-model",value:t.titleCopy,expression:"titleCopy"}],ref:"inputTitle",attrs:{type:"text"},domProps:{value:t.titleCopy},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTitle(e)},blur:t.saveTitle,input:function(e){e.target.composing||(t.titleCopy=e.target.value)}}}):s("h3",{on:{click:t.startChangeTitle}},[t._v(t._s(t.checklist.title))])])]),s("div",{staticClass:"progress"},[s("span",{staticClass:"percentage"},[t._v(t._s(t.percentage)+"%")]),s("el-progress",{attrs:{percentage:t.percentage,"show-text":!1,color:t.customColor}})],1),s("draggable",t._b({staticClass:"check-container",on:{end:t.endMove},model:{value:t.checklist.checkItems,callback:function(e){t.$set(t.checklist,"checkItems",e)},expression:"checklist.checkItems"}},"draggable",t.dragOptions,!1),[s("transition-group",{attrs:{type:"transition"}},t._l(t.checklist.checkItems,(function(e,a){return s("div",{key:e.id,staticClass:"check-item"},[s("check-preview",{attrs:{checkItem:e},on:{saveTxt:function(e){return t.saveTxt(e,a)},check:function(e){return t.check(e,a)},remove:function(e){return t.remove(a)}}})],1)})),0)],1),t.addItemMode?s("check-edit",{on:{close:function(e){t.addItemMode=!1},add:t.editCheckItem}}):s("button",{staticClass:"add-item-btn",on:{click:function(e){t.addItemMode=!0}}},[t._v("Add an item")]),s("hr")],1)},As=[],Js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"ceck-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],ref:"txtInput",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.txt},on:{blur:t.add,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close(e)}],input:function(e){e.target.composing||(t.txt=e.target.value)}}}),s("div",{staticClass:"btns"})])},Fs=[],zs={props:{checkItemTxt:{type:String,default:""}},created:function(){this.checkItemTxt&&(this.txt=this.checkItemTxt)},mounted:function(){this.$refs.txtInput.focus()},data:function(){return{txt:""}},methods:{add:function(){this.txt?this.$emit("add",this.txt):this.close()},close:function(){this.txt="",this.$emit("close")}}},Ys=zs,Xs=Object(d["a"])(Ys,Js,Fs,!1,null,null,null),qs=Xs.exports,Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"check-preview"},[s("label",{staticClass:"check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isDone,expression:"isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isDone)?t._i(t.isDone,null)>-1:t.isDone},on:{change:[function(e){var s=t.isDone,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);a.checked?i<0&&(t.isDone=s.concat([r])):i>-1&&(t.isDone=s.slice(0,i).concat(s.slice(i+1)))}else t.isDone=n},t.check]}})]),t.editTxt?s("div",{staticClass:"input-text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtToSave,expression:"txtToSave"}],ref:"inputText",attrs:{placeholder:"Enter text...",type:"text"},domProps:{value:t.txtToSave},on:{blur:t.saveTxt,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTxt(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelChangeTxt(e)}],input:function(e){e.target.composing||(t.txtToSave=e.target.value)}}})]):s("div",{staticClass:"text",on:{click:t.startChangeTxt}},[t._v(t._s(t.checkItem.txt))])])},Ws=[],Vs={props:{checkItem:Object},data:function(){return{isDone:!1,editTxt:!1,txtToSave:""}},created:function(){this.isDone=this.checkItem.isDone},mounted:function(){this.editTxt&&this.$refs.inputText.focus()},methods:{startChangeTxt:function(){var t=this;this.txtToSave=this.checkItem.txt,this.editTxt=!0,setTimeout((function(){t.$refs.inputText.focus()}),0)},check:function(){this.$emit("check",this.isDone)},saveTxt:function(){this.txtToSave?(this.$emit("saveTxt",this.txtToSave),this.editTxt=!1):this.$emit("remove")},cancelChangeTxt:function(){this.txtToSave="",this.editTxt=!1}}},Gs=Vs,Ks=Object(d["a"])(Gs,Hs,Ws,!1,null,null,null),Zs=Ks.exports,Qs={props:{checklist:Object,boardId:String},created:function(){this.closeEditItemMode()},data:function(){return{addItemMode:!1,editItemMode:[],titleCopy:"",changeTitleMode:!1}},computed:{percentage:function(){if(!this.checklist.checkItems.length)return 0;var t=this.checklist.checkItems.map((function(t){return t.isDone})),e=t.length,s=t.filter((function(t){return t})).length,a=Math.round(s/e*100);return a},customColor:function(){return 0===this.percentage?"#000":this.percentage<40?"#f00":this.percentage<60?"#00f":100===this.percentage?"#0f0":void 0},dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"checklist-items"}}},methods:{editCheckItem:function(t,e,s){this.addItemMode=!1,this.closeEditItemMode();var a=JSON.parse(JSON.stringify(this.checklist));if(!t&&e)return a.checkItems.splice(s,1),void this.$emit("chengeChecklist",a);var n={id:e?e.id:this.boardId+"-"+be.makeId(),txt:t,isDone:!!e&&e.isDone};e?a.checkItems.splice(s,1,n):a.checkItems.push(n),this.$emit("chengeChecklist",a)},saveTxt:function(t,e){var s=JSON.parse(JSON.stringify(this.checklist)),a=s.checkItems[e];a.txt=t,s.checkItems.splice(e,1,a),this.$emit("chengeChecklist",s)},closeEditItemMode:function(){this.editItemMode=this.checklist.checkItems.map((function(){return!1}))},check:function(t,e){var s=JSON.parse(JSON.stringify(this.checklist)),a=s.checkItems[e];a.isDone=t,s.checkItems.splice(e,1,a),this.$emit("chengeChecklist",s)},remove:function(t){var e=JSON.parse(JSON.stringify(this.checklist));e.checkItems.splice(t,1),this.$emit("chengeChecklist",e)},endMove:function(){this.$emit("move")},startChangeTitle:function(){var t=this;this.titleCopy=this.checklist.title,this.changeTitleMode=!0,setTimeout((function(){return t.$refs.inputTitle.focus()}),0)},saveTitle:function(){if(this.titleCopy){this.changeTitleMode=!1;var t=JSON.parse(JSON.stringify(this.checklist));t.title=this.titleCopy,this.$emit("chengeChecklist",t)}}},components:{checkEdit:qs,checkPreview:Zs,draggable:_t.a}},ta=Qs,ea=Object(d["a"])(ta,Ps,As,!1,null,null,null),sa=ea.exports,aa={props:{checklists:Array,boardId:String},data:function(){return{checklistsToSave:null}},created:function(){this.checklistsToSave=JSON.parse(JSON.stringify(this.checklists))},methods:{save:function(){this.$emit("save",this.checklistsToSave)},chengeChecklist:function(t,e){this.checklistsToSave.splice(t,1,e),this.save()}},watch:{checklists:{deep:!0,handler:function(){this.checklistsToSave=JSON.parse(JSON.stringify(this.checklists))}}},computed:{dragOptions:function(){return{animation:"200",ghostClass:"ghost",group:"task-list"}}},components:{checklistPreview:sa,draggable:_t.a}},na=aa,ra=Object(d["a"])(na,Rs,Us,!1,null,null,null),ia=ra.exports,oa=s("3f9d"),ca={props:{boardId:String,currTask:Object},data:function(){return{isOpen:!1,taskToSave:null,editDesc:!1,addLabelMode:!1,addMemberMode:!1,addDateMode:!1,addCheckListMode:!1,isCoverMode:!1,board:{},miniModalPosition:{}}},created:function(){this.isOpen=!0,this.taskToSave=JSON.parse(JSON.stringify(this.currTask)),this.board=this.$store.getters.board},methods:{openLabels:function(){this.miniModalPosition.top="".concat(Math.floor(this.$refs.labels.getClientRects()[0].top)+39,"px"),this.miniModalPosition.left="".concat(Math.floor(this.$refs.labels.getClientRects()[0].left)-30,"px"),this.addLabelMode=!this.addLabelMode},openMembers:function(){this.miniModalPosition.top="".concat(Math.floor(this.$refs.members.getClientRects()[0].top)+39,"px"),this.miniModalPosition.left="".concat(Math.floor(this.$refs.members.getClientRects()[0].left)-30,"px"),this.addMemberMode=!this.addMemberMode},openCheckList:function(){this.miniModalPosition.top="".concat(Math.floor(this.$refs.checkList.getClientRects()[0].top)+39,"px"),this.miniModalPosition.left="".concat(Math.floor(this.$refs.checkList.getClientRects()[0].left)-30,"px"),this.addCheckListMode=!this.addCheckListMode},openCover:function(){this.miniModalPosition.top="".concat(Math.floor(this.$refs.cover.getClientRects()[0].top)+39,"px"),this.miniModalPosition.left="".concat(Math.floor(this.$refs.cover.getClientRects()[0].left)-30,"px"),this.isCoverMode=!this.isCoverMode},openDueDate:function(){this.miniModalPosition.top="".concat(Math.floor(this.$refs.date.getClientRects()[0].top)+39,"px"),this.miniModalPosition.left="".concat(Math.floor(this.$refs.date.getClientRects()[0].left)-30,"px"),this.addDateMode=!this.addDateMode},closeModal:function(){this.isOpen=!1,this.$router.push("/"+this.boardId)},save:function(t,e){this.$emit("save",Object(M["a"])({type:t,taskId:this.taskToSave.id},e))},setTitle:function(){this.currTask.title&&this.save("setTitle",{title:this.taskToSave.title})},startEditDesc:function(){var t=this;this.editDesc=!0,setTimeout((function(){t.$refs.descriptionTextarea.$el.focus()}),0)},saveDesc:function(){this.save("editDesc",{desc:this.taskToSave.desc}),this.editDesc=!1},keydownTitle:function(t){"Enter"===t.key&&(this.currTask.title&&this.save("setTitle",{title:this.taskToSave.title}),t.target.blur())},openFile:function(){this.$refs.fileInput.click()},uploadImg:function(t){var e=this,s=t.target.files;s.forEach((function(t){it.uploadImg(t).then((function(t){var s={width:t.width,height:t.height,format:t.format,created:t.created_at,url:t.url,fileName:t.original_filename};e.taskToSave.attachments.push(s),e.save("attachments",{attachments:e.taskToSave.attachments})}))}))},join:function(){var t=this.$store.getters.loggedinUser,e=JSON.parse(JSON.stringify(this.taskToSave.members));e.push({_id:t._id,name:t.name,avatar:t.avatar}),this.save("addMember",{users:e})},saveMsgs:function(t){this.taskToSave.msgs=t,this.save("setMsgs",{msgs:t})},addChecklist:function(t){var e={id:this.boardId+"-"+be.makeId(),title:t,checkItems:[]};this.taskToSave.checklists.push(e),this.addCheckListMode=!1,this.save("setChecklists",{checklists:this.taskToSave.checklists})},saveCheckList:function(t){this.taskToSave.checklists=t,this.save("setChecklists",{checklists:this.taskToSave.checklists})},startRemoveTask:function(){var t=this;St.a.fire({title:"Are you sure of You won't remove the Task?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then((function(e){e.value&&t.$store.dispatch({type:"removeTask",taskId:t.taskToSave.id}).then((function(){t.$router.push("/"+t.boardId),St.a.fire("Deleted!","Your task has been deleted.","success"),Zt.emit("change board")}))}))}},computed:{listName:function(){return this.$store.getters.currList.title},descToView:function(){return this.taskToSave.desc?this.taskToSave.desc:"Add a more detailed descriptionâ€¦"},isJoin:function(){var t=this;return!!this.taskToSave.members.find((function(e){return e._id===t.$store.getters.loggedinUser._id}))},loggedinUser:function(){return this.$store.getters.loggedinUser},isCover:function(){}},watch:{currTask:{deep:!0,handler:function(){this.taskToSave=JSON.parse(JSON.stringify(this.currTask))}}},components:{labelPicker:Be,showMembers:Ie,datePicker:_e,labelPreview:Fe,windowOverlay:vt,filePreview:We,activityChat:Is,addChecklist:Bs,checklistList:ia,coverPreview:is,coverPicker:hs,addMemberToTask:ts}},ua=ca,la=Object(d["a"])(ua,pe,ve,!1,null,"7f48b8e0",null),da=la.exports,ha={data:function(){return{boardId:null,currTask:null}},mounted:function(){this.$modal.show("editModal")},created:function(){var t=this,e=this.$route.params.id,s=e.split("-")[0];this.boardId=s,this.$store.dispatch({type:"getTask",taskId:e,boardId:s}).then((function(e){t.currTask=e}))},methods:{saveTask:function(t){this.$store.dispatch({type:"saveTask",objSave:t})}},components:{taskModal:da}},fa=ha,ma=Object(d["a"])(fa,fe,me,!1,null,null,null),pa=ma.exports;a["default"].use(y["a"]);var va=[{path:"/",name:"home",component:j},{path:"/signup",name:"signup",component:L},{path:"/login",name:"login",component:P},{path:"/userPage",name:"user-page",component:yt},{path:"/:id",name:"board",component:he,children:[{path:"/task/:id",name:"task-details",component:pa}]}],ga=new y["a"]({mode:"history",base:"/",routes:va}),ba=ga,ka=s("2f62"),ya=(s("3ca3"),s("ddb0"),s("2b3d"),s("bc3a")),Ca=s.n(ya),wa="/api/",Ta=Ca.a.create({withCredentials:!0}),_a=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s,a,n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=o.length>1&&void 0!==o[1]?o[1]:"get",a=o.length>2&&void 0!==o[2]?o[2]:null,t.prev=2,t.next=5,Ta({url:"".concat(wa).concat(e),method:s,data:a});case 5:return n=t.sent,t.abrupt("return",n.data);case 9:return t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status?(r="Unathorized!",i="You don't have permission for this action..."):(r="Ooops..",i="Something went wrong..."),St.a.fire({icon:"error",title:r,text:i}),t.abrupt("return",{failed:!0});case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),xa={get:function(t,e){return _a(t,"GET",e)},post:function(t,e){return _a(t,"POST",e)},put:function(t,e){return _a(t,"PUT",e)},delete:function(t,e){return _a(t,"DELETE",e)}},ja=function(t){return t&&sessionStorage.setItem("user",JSON.stringify(t)),t},Oa=function(t){return xa.get("user/".concat(t))},Sa=function(t){return xa.delete("user/".concat(t))},Ma=function(t){return xa.put("user/".concat(t._id),t)},Ia=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xa.post("auth/login",e);case 2:return s=t.sent,t.abrupt("return",ja(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Da=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xa.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",ja(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$a=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xa.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),La=function(t){var e=new URLSearchParams;return e.set("name",t.txt),xa.get("user?".concat(e))},Na={login:Ia,logout:$a,signup:Da,getUsers:La,getById:Oa,remove:Sa,update:Ma},Ea=null;sessionStorage.user&&(Ea=JSON.parse(sessionStorage.user));var Ba={state:{loggedinUser:Ea,users:[]},getters:{users:function(t){return t.users},loggedinUser:function(t){return t.loggedinUser}},mutations:{setUser:function(t,e){var s=e.user;t.loggedinUser=s},setUsers:function(t,e){var s=e.users;t.users=s},removeUser:function(t,e){var s=e.userId;t.users=t.users.filter((function(t){return t._id!==s}))}},actions:{login:function(t,e){var s=e.userCred;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.login(s);case 2:return a=e.sent,t.commit({type:"setUser",user:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},signup:function(t,e){var s=e.userCred;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.signup(s);case 2:return a=e.sent,t.commit({type:"setUser",user:a}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},logout:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.logout();case 2:t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null});case 4:case"end":return e.stop()}}),e)})))()},loadUsers:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.getUsers();case 2:return s=e.sent,console.log("users",s),t.commit({type:"setUsers",users:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))()},removeUser:function(t,e){var s=e.userId;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.remove(s);case 2:t.commit({type:"removeUser",userId:s});case 3:case"end":return e.stop()}}),e)})))()},updateUser:function(t,e){var s=e.user;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Na.update(s);case 2:return s=e.sent,t.commit({type:"setUser",user:s}),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))()},loadFilter:function(t,e){var s=e.userFilter;return t.state.filterBy=JSON.parse(JSON.stringify(s)),Na.getUsers(s).then((function(e){return t.commit({type:"setUsers",users:e}),e}))}}},Ra=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",xa.get("board/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ua=function(t){return xa.get("board/id/".concat(t))},Pa=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e._id?s=xa.put("board/id/".concat(e._id),e):(e.createdAt=new Date,s=xa.post("board",e)),t.next=3,s;case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Aa=function(t){return xa.delete("board/".concat(t))},Ja=function(t){return t&&(t+="-"+be.makeId()),{id:t,title:"",dueDate:"",desc:"",labels:[],cover:{url:""},attachments:[],checklists:[],members:[],msgs:[]}},Fa=function(t){return t&&(t+="-"+be.makeId()),{id:t,title:"",tasks:[]}},za=function(t,e){var s={user:t,prefs:e};return xa.post("board/",s)},Ya=function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,s){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.socketId=Zt.getSocketId(),t.abrupt("return",xa.put("board/data/".concat(e),s));case 2:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),Xa={query:Ra,getById:Ua,removeBoard:Aa,save:Pa,getEmptyList:Fa,getEmptyTask:Ja,addBoard:za,putData:Ya},qa={state:{board:null,currTask:null,currList:null},mutations:{setBoard:function(t,e){t.board=e},addList:function(t,e){e.isNew=!0,t.board.taskLists.push(e)},endAddList:function(t,e){delete e.isNew,t.board.taskLists.splice(-1,e)},removeList:function(t,e){var s=t.board.taskLists.findIndex((function(t){return t.id===e}));-1!==s&&t.board.taskLists.splice(s,1)},addTask:function(t,e){var s=t.board.taskLists.findIndex((function(t){return t.id===e.taskListId}));t.board.taskLists[s].tasks.push(e.task)},saveTask:function(t,e){var s,a=e.taskId,n=e.type,r=t.board.taskLists.findIndex((function(t){var e=t.tasks.findIndex((function(t){return t.id===a}));return-1!==e&&(s=e,!0)})),i=t.board.taskLists[r].tasks[s];switch(n){case"setTitle":i.title=e.title;break;case"setDueDate":i.dueDate=e.dueDate;break;case"setLabel":i.labels=e.labels;break;case"attachments":i.attachments=e.attachments;break;case"editDesc":i.desc=e.desc;break;case"setChecklists":i.checklists=e.checklists;break;case"setMsgs":i.msgs=e.msgs;break;case"addMember":i.members=e.users;break}t.currTask.id===i.id&&(t.currTask=i),t.board.taskLists[r].tasks.splice(s,1,i)},removeTask:function(t,e){var s,a=t.board.taskLists.findIndex((function(t){var a=t.tasks.findIndex((function(t){return t.id===e}));return-1!==a&&(s=a,!0)}));t.board.taskLists[a].tasks.splice(s,1)},setCurrTask:function(t,e){var s,a=e.taskId;t.currList=t.board.taskLists.find((function(t){var e=t.tasks.find((function(t){return t.id===a}));if(e)return s=e,!0})),t.currTask=s},moveList:function(t,e){var s=e.newIndex,a=e.oldIndex,n=t.board.taskLists.splice(a,1)[0];t.board.taskLists.splice(s,0,n)},removeChangeMoveList:function(t,e){var s=e.oldIndex,a=e.newIndex,n=t.board.taskLists[s],r=t.board.taskLists[a];t.board.taskLists.splice(s,1,r),t.board.taskLists.splice(a,1,n)},removeChangeMoveTask:function(t,e){var s=e.idMoveFrom,a=e.idMoveTo,n=e.oldIndex,r=e.newIndex,i=t.board.taskLists.find((function(t){return t.id===s})),o=t.board.taskLists.find((function(t){return t.id===a})),c=o.tasks[r];i.tasks.splice(n,0,c),o.tasks.splice(r,1)},moveTask:function(t,e){var s=e.idMoveFrom,a=e.idMoveTo,n=e.oldIndex,r=e.newIndex,i=t.board.taskLists.findIndex((function(t){return t.id===s})),o=t.board.taskLists.findIndex((function(t){return t.id===a})),c=t.board.taskLists[i].tasks.splice(n,1)[0];t.board.taskLists[o].tasks.splice(r,0,c)},setListTitle:function(t,e){var s=e.taskListId,a=e.title,n=t.board.taskLists.find((function(t){return t.id===s}));n.title=a},changeTask:function(t,e){var s,a=t.board.taskLists.find((function(t){var a=t.tasks.findIndex((function(t){return t.id===e.id}));if(-1!==a)return s=a,!0}));a.tasks.splice(s,1,e)},changeTitleBoard:function(t,e){t.board.title=e},saveUsersBoard:function(t,e){var s=e.users;t.board.users=s}},getters:{currBoard:function(t){return t.currBoard},board:function(t){return t.board},currTask:function(t){return t.currTask},currList:function(t){return JSON.parse(JSON.stringify(t.currList))}},actions:{getBoards:function(t,e){var s=e.userId;return Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xa.query(s);case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t["catch"](0),console.log("im in catch of getboards");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getBoard:function(t,e){var s=e.boardId;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa.getById(s);case 3:return a=e.sent,t.commit("setBoard",a),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addBoard:function(t,e){var s=e.user,a=e.prefs;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa.addBoard(s,a);case 3:return n=e.sent,t.commit("setBoard",n),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},saveBoard:function(t,e){var s=e.updatedBoard;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("setBoard",s),e.next=5,Xa.save(t.state.board);case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},saveList:function(t,e){e.list;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("setBoard",updatedBoard),e.next=5,Xa.save(t.state.board);case 5:return a=e.sent,e.abrupt("return",a);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",s);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},addList:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(t.state.board)),a=Xa.getEmptyList(t.state.board._id),e.prev=2,t.commit("addList",a),e.next=6,Xa.putData(t.state.board._id,{type:"addList",newList:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e["catch"](2),t.commit("setBoard",s);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},removeList:function(t,e){var s=e.taskListId;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("removeList",s),e.next=5,Xa.putData(t.state.board._id,{type:"removeTaskList",taskListId:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getTask:function(t,e){var s=e.taskId,a=e.boardId;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t.state.board)),r={taskId:s,boardId:a},e.prev=2,e.next=5,Xa.getById(a);case 5:return i=e.sent,t.commit("setBoard",i),t.commit("setCurrTask",r),e.abrupt("return",t.getters.currTask);case 11:e.prev=11,e.t0=e["catch"](2),t.commit("setBoard",n);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},saveTask:function(t,e){var s=e.objSave;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("saveTask",s),e.next=5,Xa.putData(t.state.board._id,{type:"saveTask",objSave:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},addTask:function(t,e){var s=e.taskListId,a=e.newTask;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t.state.board)),r=Xa.getEmptyTask(t.state.board._id),r.title=a.title,i={task:r,taskListId:s},e.prev=4,t.commit("addTask",i),e.next=8,Xa.putData(t.state.board._id,{type:"addTask",task:r,taskListId:s});case 8:return o=e.sent,e.abrupt("return",o);case 12:e.prev=12,e.t0=e["catch"](4),t.commit("setBoard",n);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()},removeTask:function(t,e){var s=e.taskId;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("removeTask",s),e.next=5,Xa.putData(t.state.board._id,{type:"removeTask",taskId:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},moveList:function(t,e){var s=e.oldIndex,a=e.newIndex;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={oldIndex:s,newIndex:a},e.prev=1,e.next=4,Xa.putData(t.state.board._id,{type:"moveList",oldIndex:s,newIndex:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](1),t.commit("moveListAgain",n);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},moveTask:function(t,e){var s=e.idMoveFrom,a=e.idMoveTo,n=e.oldIndex,r=e.newIndex;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={idMoveFrom:s,idMoveTo:a,oldIndex:n,newIndex:r},e.prev=1,e.next=4,Xa.putData(t.state.board._id,{type:"moveTask",idMoveFrom:s,idMoveTo:a,oldIndex:n,newIndex:r});case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e["catch"](1),t.commit("removeChangeMoveTask",i);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},setListTitle:function(t,e){var s=e.taskListId,a=e.title;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("setListTitle",{taskListId:s,title:a}),e.next=5,Xa.putData(t.state.board._id,{type:"setListTitle",taskListId:s,title:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",n);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},changeTitleBoard:function(t,e){var s=e.title;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("changeTitleBoard",s),e.next=5,Xa.putData(t.state.board._id,{type:"changeTitleBoard",title:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},changeTask:function(t,e){var s=e.task;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit("changeTask",s);case 1:case"end":return e.stop()}}),e)})))()},saveUsersBoard:function(t,e){var s=e.users;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.board)),e.prev=1,t.commit("saveUsersBoard",s),e.next=5,Xa.putData(t.state.board._id,{type:"saveUsersBoard",users:s});case 5:return n=e.sent,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),t.commit("setBoard",a);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},dataFromSocket:function(t,e){var s=e.data;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=s.type,e.next="saveUsersBoard"===e.t0?3:"changeTitleBoard"===e.t0?5:"removeTaskList"===e.t0?7:"moveList"===e.t0?9:"moveTask"===e.t0?11:"addTask"===e.t0?13:"addList"===e.t0?15:"setListTitle"===e.t0?17:"removeTask"===e.t0?19:"saveTask"===e.t0?21:23;break;case 3:return t.commit("saveUsersBoard",s.users),e.abrupt("break",23);case 5:return t.commit("changeTitleBoard",s.title),e.abrupt("break",23);case 7:return t.commit("removeList",s.taskListId),e.abrupt("break",23);case 9:return t.commit("moveList",s),e.abrupt("break",23);case 11:return t.commit("moveTask",s),e.abrupt("break",23);case 13:return t.commit("addTask",s),e.abrupt("break",23);case 15:return t.commit("addList",s.newList),e.abrupt("break",23);case 17:return t.commit("setListTitle",s),e.abrupt("break",23);case 19:return t.commit("removeTask",s.taskId),e.abrupt("break",23);case 21:return t.commit("saveTask",s.objSave),e.abrupt("break",23);case 23:case"end":return e.stop()}}),e)})))()}}};a["default"].use(ka["a"]);var Ha=new ka["a"].Store({state:{},mutations:{},actions:{},modules:{userStore:Ba,boardStore:qa}}),Wa=(s("b7e3"),s("15f5"),s("7051"),s("1881")),Va=s.n(Wa),Ga=s("5c96"),Ka=s.n(Ga),Za=(s("0fae"),s("b2d6")),Qa=s.n(Za);s("a15b");a["default"].filter("short-name",(function(t){var e=t.split(" "),s=e.map((function(t){return t.charAt(0)})).join("");return s.length>2&&(s=s[0]+s[1]),s})),a["default"].filter("date",(function(t){return Ut()(new Date(t)).fromNow()})),a["default"].use(Va.a,{dynamic:!0,dynamicDefaults:{clickToClose:!1}}),a["default"].use(Ka.a,{locale:Qa.a}),a["default"].use(oa["a"]),a["default"].config.productionTip=!1,new a["default"]({router:ba,store:Ha,render:function(t){return t(g)}}).$mount("#app")},"5b04":function(t,e,s){"use strict";var a=s("9d40"),n=s.n(a);n.a},"7ade":function(t,e,s){},"9d40":function(t,e,s){},b7e3:function(t,e,s){},ba2b:function(t,e,s){},c79f:function(t,e,s){"use strict";var a=s("ba2b"),n=s.n(a);n.a}});
//# sourceMappingURL=app.00976dc6.js.map